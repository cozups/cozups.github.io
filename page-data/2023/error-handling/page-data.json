{"componentChunkName":"component---src-templates-blog-post-js","path":"/2023/error-handling/","result":{"data":{"site":{"siteMetadata":{"title":"cozups-log"}},"markdownRemark":{"id":"ca6a1b26-3853-5862-8491-0f366baa9844","excerpt":"…","html":"<h1>에러 처리의 필요성</h1>\n<p>에러가 발생하지 않는 코드를 작성하는 것은 불가능하다.</p>\n<p>에러에 대해 대처하지 않고 방치하면 프로그램은 강제 종료 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[Start]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ReferenceError: foo is not defined</span>\n<span class=\"token comment\">// 발생한 에러를 방치하면 프로그램은 강제 종료된다.</span>\n\n<span class=\"token comment\">// 에러에 의해 프로그램이 강제 종료되어 아래 코드는 실행되지 않는다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[End]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">try...catch</code>문을 사용해 발생한 에러에 적절하게 대응하면 프로그램이 강제 종료되지 않고 계속해서 코드를 실행시킬 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[Start]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[에러 발생]\"</span><span class=\"token punctuation\">,</span> error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// [에러 발생] ReferenceError: foo is not defined</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 발생한 에러에 적절한 대응을 하면 프로그램이 강제 종료되지 않는다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[End]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>직접적으로 에러를 발생시키지 않는 예외적인 상황에 적절하게 대응하지 않으면 에러로 이어질 가능성이 크다.</p>\n<p>에러나 예외적인 상황은 너무나 다양하기 때문에 아무런 조치 없이 프로그램이 종료되면 원인을 찾기 힘들어진다.</p>\n<p>따라서 언제나 에러나 예외적인 상황이 발생할 수 있다는 것을 인지하고 이에 대응하는 코드를 작성하는 것이 중요하다.</p>\n<hr>\n<h1>try … catch … finally문</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[Start]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 실행할 코드(에러가 발생할 가능성이 있는 코드)</span>\n  <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// try 코드 블록에서 에러가 발생하면 이 코드 블록의 코드가 실행된다.</span>\n  <span class=\"token comment\">// err에는 try 코드 블록에서 발생한 Error 객체가 전달된다.</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ReferenceError: foo is not defined</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 에러 발생과 상관없이 반드시 한 번 실행된다.</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"finally\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// try...catch...finally 문으로 에러를 처리하면 프로그램이 강제 종료되지 않는다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"[End]\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">try ... catch ... finally</code> 문으로 에러를 처리하면 프로그램이 강제 종료되지 않는다.</p>\n<hr>\n<h1>Error 객체</h1>\n<p>Error 생성자 함수는 에러 객체를 생성한다.</p>\n<p>Error 생성자 함수에는 에러를 상세히 설명하는 에러 메시지를 인수로 전달할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> error <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"invalid\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>message 프로퍼티\n<ul>\n<li>Error 생성자 함수에 인수로 전달한 에러 메시지</li>\n</ul>\n</li>\n<li>stack 프로퍼티\n<ul>\n<li>에러를 발생시킨 콜 스택의 호출 정보를 나타내는 문자열 (디버깅 목적)</li>\n</ul>\n</li>\n</ul>\n<h3>Error 생성자 함수 7가지와 인스턴스</h3>\n<ul>\n<li>Error\n<ul>\n<li>일반적 에러 객체</li>\n</ul>\n</li>\n<li>SyntaxError\n<ul>\n<li>자바스크립트 문법에 맞지 않는 문을 해석할 때 발생하는 에러 객체</li>\n</ul>\n</li>\n<li>ReferenceError\n<ul>\n<li>참조할 수 없는 식별자를 참조했을 때 발생하는 에러 객체</li>\n</ul>\n</li>\n<li>TypeError\n<ul>\n<li>피연산자 또는 인수의 데이터 타입이 유효하지 않을 때 발생하는 에러 객체</li>\n</ul>\n</li>\n<li>RangeError\n<ul>\n<li>숫자값의 허용 범위를 벗어났을 때 발생하는 에러 객체</li>\n</ul>\n</li>\n<li>URIError\n<ul>\n<li>encodeURI 또는 decodeURI 함수에 부적절한 인수를 전달했을 때 발생하는 에러 객체</li>\n</ul>\n</li>\n<li>EvalError\n<ul>\n<li>eval 함수에서 발생하는 에러 객체</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h1>throw 문</h1>\n<p>Error 생성자 함수로 에러 객체를 생성한다고 에러가 발생하는 것은 아니다.</p>\n<p>에러를 발생시키려면 try 코드 블록에서 <code class=\"language-text\">throw</code> 문으로 에러 객체를 던져야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">throw</span> 표현식<span class=\"token punctuation\">;</span></code></pre></div>\n<p>에러를 던지면 catch 문의 에러 변수가 생성되고 던져진 에러 객체가 할당된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 에러 객체를 생성한다고 에러가 발생하는 것은 아니다.</span>\n  <span class=\"token keyword\">new</span> <span class=\"token class-name\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"something wrong\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<hr>\n<h1>에러의 전파</h1>\n<p>에러는 호출자(caller) 방향으로 전파된다.</p>\n<p>즉, 콜 스택의 아래 방향으로 전파된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">foo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">throw</span> <span class=\"token function\">Error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"foo에서 발생한 에러\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ④</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">bar</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ③</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">baz</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ②</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">baz</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ①</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 595px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/25be71a98d0a62a39fa8ee6d56a90503/3dd3e/error1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 93.67088607594937%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADc0lEQVR42oWU3VMbZRTGaQlJ6owXpZ3xRnrnjc60/Q96Yf0znNHRv8ArS+t0nNFxnLaOraYt1oq0VMCOQL8EBij94EOBBLBAoCG7SQghH4XdbHazG5Ldn28S6yBI+s6cOc85++6z73nmebeObctxHEqlkgDbepX+y+f/zbbY6zjOdgrqtheCisijEfQ/hlGH7mCurYiXNJwthVJBwSmq2FsqJauMc6RS6+iGsRehUyGUZrrZ7HmbTO9baMNHSQ8cJ3r3GMm+Y8h3jpLsF7j/OLmH7yBPXyFvsRehXSUMtJFr9TJ26TUmfF6efOvh5qkGZq95uftlA8MXPDy9eADz9/1Io2fIF14K838nFP3IQh/ZeydQH7+L8vQkqojs6ElyY9XQRsv1exjjJ4jM/LTHCR27qmGxxGp0hexcN1aiHys1RCE1SCkzhJUcpJgp11VsJh+yFlvC2MG4e+TZLpT2Q8gdh0j0HCbc2chUy0Hkrkamrx1kub2R0C+HMfpeR5r4avfIjm2TX5jHWnyGHpQIT15Hb3fx6LyLQIuLSV89PZ/vJ9jqYuRCPePf1TN5uQHzQZ3Q8DT5rZ0aCh8VM2lKL9KYqQ0iyxMoI59g/PUp+sJpjIVmCkvNGPPNWMFm8otVrM+fIhYcwDBLNXwopIyF51DGz6EvX0JfuYwR8mFJvko2JVGHfaLvqzyLr4wLwq1X2eYG2ZtuZq+6CZXzDw3c+6KexVY3A1+LcX0N+K96hG3KI39WyzY2doWwHa3dy0yLh2CbVxB5mPjeTaTDw7Pr7kr9/MYBjAf7kMbO1iIUIwsjrspB1KkfyUdukY91kY92Uoh3YohsrnaKXhl3oEd/JS7PCNsUalw98aHo0mPUwffRpj4kF/gYPfBRNfz/ZNEzZkQEPiA63y2Mbb9CQ38b2s9uhs95GPnGzeQVD7eaXfiFBLfPusS18/Dkopfc/X3IY2dqa1gUfWnuN3H1mkj0vknq/hHivU1It8u4iTWB45U4Qm7gDeQ/z2PU0tC2HWKR5yjrfrTkNMraJFrKT07g7Po02no5T1VxMiD2LmOae1y9TWHQjLFFWjNZTWwQCkVJZ1SWlmWisSRhKY4cSRBPZJDkNUIrMTY2Ntm5/iVUrRKKWaSscd7Mo2y+wNA10uInmtOybG5kKr2cppJVlQq2LHMX4d/8XioMTynV/AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/25be71a98d0a62a39fa8ee6d56a90503/3dd3e/error1.png\"\n        srcset=\"/static/25be71a98d0a62a39fa8ee6d56a90503/c26ae/error1.png 158w,\n/static/25be71a98d0a62a39fa8ee6d56a90503/6bdcf/error1.png 315w,\n/static/25be71a98d0a62a39fa8ee6d56a90503/3dd3e/error1.png 595w\"\n        sizes=\"(max-width: 595px) 100vw, 595px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>이 때 throw 된 에러를 캐치하여 적절히 대응하면 프로그램이 종료되지 않고 코드의 실행 흐름을 복구할 수 있다.</p>\n<p>에러를 어디에서도 캐치하지 않으면 프로그램이 종료된다.</p>\n<p>주의할 것은 setTimeout이나 프로미스 후속 처리 메서드의 콜백 함수는 호출자가 없다는 것이다.</p>\n<p>태스크 큐나 마이크로 태스크 큐에 일시 저장되었다가 콜 스택이 비면 이벤트 루프에 의해 콜 스택에 푸시되기 때문에 에러를 전파할 호출자가 존재하지 않는다.</p>","frontmatter":{"title":"21. 에러 처리","date":"February 15, 2023","description":"모던 자바스크립트 Deep Dive [47장]","tags":["Javascript","모던 자바스크립트 Deep Dive"]}},"previous":{"fields":{"slug":"/2023/radix-sort/"},"frontmatter":{"title":"기수 정렬"}},"next":{"fields":{"slug":"/2023/generator-async-await/"},"frontmatter":{"title":"20. 제네레이터와 async/await"}}},"pageContext":{"id":"ca6a1b26-3853-5862-8491-0f366baa9844","previousPostId":"3a392057-a3e5-591d-9073-26fdac3e7bb3","nextPostId":"a2553078-48c6-5b4d-a7f7-1be63b9959ea"}},"staticQueryHashes":["230163734","2841359383"],"slicesMap":{}}
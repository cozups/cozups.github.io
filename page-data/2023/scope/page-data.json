{"componentChunkName":"component---src-templates-blog-post-js","path":"/2023/scope/","result":{"data":{"site":{"siteMetadata":{"title":"cozups-log"}},"markdownRemark":{"id":"a2271c27-bf43-5552-9be3-c13c72134d19","excerpt":"…","html":"<h1>스코프란?</h1>\n<p>스코프는 <strong>식별자가 유효한 범위</strong>를 말한다.</p>\n<p>모든 식별자(변수 이름, 함수 이름, 클래스 이름 등)은 자신이 선언된 위치에 의해 다른 코드가 식별자 자신을 참조할 수 있는 유효 범위가 결정된다.</p>\n<ul>\n<li>식별자 결정: 어떤 변수를 참조해야 할 것인지를 결정하는 것</li>\n<li>렉시컬 환경: “코드가 어디서 실행되며 주변에 어떤 코드가 있는지”\n<ul>\n<li>코드의 문맥은 렉시컬 환경으로 이루어진다.</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">\"global\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">\"local\"</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ①</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ②</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/125e58637e97a400104dcafa4d6343c5/4ef49/scope1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 32.278481012658226%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABXElEQVR42nWPy04bQRBF55cisSELCCE7MMT5gCz4wiQSAoRthJDNgkBYBIWXBNgemfEDz7O76emeQw3sIlFSqVS3bt26FbjSMD3eIumuMe9+pb+/IdlgfLhBetxkerCKio7wvmLa+07SW5fZJvd7DQbCG7YbgjWZH34hf+wSlFYxOvjGvL3IuL3Ezc+3HLVWiI8+E+1+IAtbOOcZdRrEnY8Mdpa4/CG8X8vcbX8SsVVmrQXifofAeU8cZ+TRnCQtcOLEGMswHJMri352aG1E0JEmufCeSLMCoWFLx2QaC8dTSp8XBUFVVSijUVpT6Loa6Y2IKYosk15hrZWXPYVgqsYF00rLIdkRESP7dda8AAk3jtBnp+jzM8zFX8z5H+zVJfbfBeXtNfb2Bv37BCuzUvAqS3kNMfN/vApWpTiQS16ue7laiYNc3p8ldc2ZhCGzcEjUfyAa9EnjmPfiBWcPsB5cRl5kAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/125e58637e97a400104dcafa4d6343c5/f058b/scope1.png\"\n        srcset=\"/static/125e58637e97a400104dcafa4d6343c5/c26ae/scope1.png 158w,\n/static/125e58637e97a400104dcafa4d6343c5/6bdcf/scope1.png 315w,\n/static/125e58637e97a400104dcafa4d6343c5/f058b/scope1.png 630w,\n/static/125e58637e97a400104dcafa4d6343c5/4ef49/scope1.png 890w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<ul>\n<li><strong>스코프는 식별자인 변수 이름의 충돌을 방지하여 같은 이름의 변수를 사용할 수 있게 한다.</strong>\n<ul>\n<li>식별자는 어떤 값을 구별하여 식별해낼 수 있는 고유한 이름을 말한다.</li>\n<li>따라서 하나의 값은 유일한 식별자에 연결되어야 한다.</li>\n<li>예) 파일 이름은 유일해야 한다. 파일 이름을 중복해서 사용할 수 있는 이유는 폴더 개념이 존재하기 때문이다.</li>\n<li>즉, 다른 스코프에는 같은 이름의 식별자를 사용할 수 있다.</li>\n</ul>\n</li>\n</ul>\n<hr>\n<h1>스코프의 종류</h1>\n<p>코드는 전역과 지역으로 구분되며,</p>\n<p>변수는 자신이 선언된 위치에 의해 자신의 스코프가 결정된다.</p>\n<h2>전역과 전역 스코프</h2>\n<ul>\n<li>코드의 가장 바깥 영역</li>\n<li>전역 스코프를 만든다.</li>\n<li>전역 변수 - 어디서든 참조할 수 있다.</li>\n</ul>\n<h2>지역과 지역 스코프</h2>\n<ul>\n<li>함수 몸체 내부</li>\n<li>지역 스코프를 만든다.</li>\n<li>지역 변수 - 자신의 지역 스코프와 하위 지역 스코프에서 유효하다.</li>\n</ul>\n<hr>\n<h1>스코프 체인</h1>\n<p>함수는 중첩이 될 수 있으며 이는 곧 <strong>스코프가 함수의 중첩에 의해 계층적 구조를 갖는다</strong>는 의미를 갖는다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">\"global x\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> <span class=\"token string\">\"global y\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> z <span class=\"token operator\">=</span> <span class=\"token string\">\"outer's local z\"</span><span class=\"token punctuation\">;</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ① global x</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ② global y</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ③ outer's local z</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">\"inner's local x\"</span><span class=\"token punctuation\">;</span>\n\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ④ inner's local x</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑤ global y</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑥ outer's local z</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑦ global x</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑧ ReferenceError: z is not defined</span></code></pre></div>\n<p>위 코드의 스코프의 계층 구조를 그림으로 나타내면</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 565px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8c64700a76c457541b4e54fa49ffc0bb/07eba/scope2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 151.8987341772152%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAeCAYAAAAsEj5rAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEiklEQVR42o1VW09cVRSmFUj1wUixpQ/+EIuJMcG2rz75A2zCuw9Koz/CFxONmtqIStH4UjJTKFKbWqRgqZVLuUTKMLdzv1/nzJn5XGvPmWGQgbiTdfbaa39n7bX3/tbafc1mE9xcqwpp/m0YC29CXxgVYtwfxUHuMl7MXBZ9KT/amdMX3iLsKJT5UYT6mvDRbDbQxx9ujl6APfMKovxZBPkBBLl+1O8NYPvWS/j7q7P468szeH7zDKK7/QjzLANCd2f6Eal/oOUxZYetCG1TQXlpAuoTlhtCiosfUv8x9KcT0FcnYD37lPRPoK7egPJnC1t5/BF860V3hNmWXRe1Wg08juOktYjtIE1ToQdhjIOyDEU14bgBknrLXq/XxX/t1nHoOA45MBAGLlzHRBz5kKUyPNdCFHrwPVuMVaUK29IFju2MjaKwt0PLshCGIXzfJ1CEarUqImdba0FbjNvStjP2mEMGJEkithgEQbZlu7Nl/nlvbw/lchmmaXbsp25ZlmXRt6MpFArQNK0VWWbvFrarqtoJgH0di5B7SZJQz3SOhI+CF+Of2zofBzvi+RMjZDBHVKlUOo7ZbhgGqmRTFEUIO2NhPEd55AzbSprW6SbpgEOfbjigW/TgORaCmC7poAD/+TpiwkRk5/kWxhf/pHSOxxye1pq0rUaS/B/oocN6EsOTVuDLj0mWhcTaMmruE8Tb86g9nUHNWUVNW+7Ms3jSMuo1r730YS7behHSnTdg5i7AyF2CmR/B7g8XsD55ETvfDGPj8/PYvX0Rm9/x/EgHo9wZQaCuZLecdhUHo0iASwjmhuDPvY7g3jD2p89je3II+z8PY3uKHH4/hK3J12h+uIOx88OIKOrjxYHSqbg+BXl7GtLWNPU/ofjsFtSdKWg70zB2p6Ht3oZOvbyVYUhKGz/Cd6QTeFhL0Gg0EUYtXllZcTDtAIWSRr1PNh8V2STdI1xyOg8NXSGyugh8VyR/pVyAQwUj8B1RJHzuqUgInejCdsvSRFp2XcqhQ46S87RcKokCwST2PE+QXSaSq6oCTddEpkhEbCZ1u5D0jJBTjwEi9YisbGPSemRTdR16lte8EDtlR7zlOI6P85DPoVMIKFKRs+TYoLFZ2IexuQGHtmZn6dZOVZ0WOnKGPfIik8PWCKkI2GY23eyJ6emw8R9J23qSIg1ioTd74JpHHGZn6LtUZR6NQ138AMri9ZY8IlkZh/LL+1Am36OHaRzSw655Eun36witf3o8o8YBnNyriGcHEc2+TE/pOWx+O4i1rwewdnMQS18MYovGDz/rh09zjIlnz8HLka4u9cgUo4Ly/DWov42RXIFy/10U7r6D4twYlIWrkBeuofrrVSHag6tQH3B/BZX5Mfj6+vFnVPCQOBcRBZgmCdFF01QibSBuU5KqMC2TdJOeUpX4agk2+FS1o27adDuMazGalHptorKjtNGgjAioQkuC5OxEJh7ahGe6nMpDBvM7wcIEb0Xh0TjsPK8sPM9j7nmRpKv49vViITcjSlF0E+jUG2FCD7wi3pVSsSjek5Mq9r9LC5eTWBOvOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/8c64700a76c457541b4e54fa49ffc0bb/07eba/scope2.png\"\n        srcset=\"/static/8c64700a76c457541b4e54fa49ffc0bb/c26ae/scope2.png 158w,\n/static/8c64700a76c457541b4e54fa49ffc0bb/6bdcf/scope2.png 315w,\n/static/8c64700a76c457541b4e54fa49ffc0bb/07eba/scope2.png 565w\"\n        sizes=\"(max-width: 565px) 100vw, 565px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>스코프는 하나의 계층적 구조로 연결되며, 모든 지역 스코프의 최상위 스코프는 전역 스코프다.</p>\n<p>이렇게 스코프가 계층적으로 연결된 것을 <strong>스코프 체인</strong>이라고 한다.</p>\n<p>자바스크립트 엔진은 스코프 체인을 통해 변수를 참조하는 코드의 스코프에서 시작하여 <strong>상위 스코프 방향으로 이동하면서 선언된 변수를 검색</strong>한다.</p>\n<p><strong>렉시컬 환경</strong></p>\n<ul>\n<li>자바스크립트 엔진은 코드를 실행하기에 앞서 렉시컬 환경을 실제로 생성한다.</li>\n<li>스코프 체인은 실행 컨텍스트의 렉시컬 환경을 단방향으로 연결한 것이다.</li>\n<li>전역 렉시컬 환경은 코드가 로드되면 곧바로 생성되고 함수 렉시컬 환경은 함수가 호출되면 곧바로 생성된다.</li>\n</ul>\n<h2>스코프 체인에 의한 변수 검색</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">\"global x\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">var</span> y <span class=\"token operator\">=</span> <span class=\"token string\">\"global y\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> z <span class=\"token operator\">=</span> <span class=\"token string\">\"outer's local z\"</span><span class=\"token punctuation\">;</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ① global x</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ② global y</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ③ outer's local z</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token string\">\"inner's local x\"</span><span class=\"token punctuation\">;</span>\n\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ④ inner's local x</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑤ global y</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑥ outer's local z</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">inner</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">outer</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑦ global x</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>z<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ⑧ ReferenceError: z is not defined</span></code></pre></div>\n<ul>\n<li>검색 과정\n<ul>\n<li>④ x 변수를 참조하는 코드의 스코프인 inner 함수의 지역 스코프에서 x 변수가 선언되었는지 검색한다.</li>\n<li>⑤ y 변수를 참조하는 코드의 스코프인 inner 함수의 지역 스코프에서 y 변수가 선언되었는지 검색한다.\n<ul>\n<li>존재하지 않으므로 상위 스코프인 outer 함수의 지역 스코프로 이동하여 검색한다.</li>\n<li>존재하지 않으므로 상위 스코프인 전역 스코프로 이동하여 검색한다.</li>\n</ul>\n</li>\n<li>⑥ z 변수를 참조하는 코드의 스코프인 inner 함수의 지역 스코프에서 z 변수가 선언되었는지 검색한다.\n<ul>\n<li>존재하지 않으므로 상위 스코프인 outer 함수의 지역 스코프로 이동하여 검색한다.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>자바스크립트 엔진은 스코프 체인을 따라 변수를 참조하는 코드의 스코프에서 시작해서 <strong>상위 스코프 방향으로 이동하며 선언된 변수를 검색</strong>한다.</p>\n<p>⇒ 하위 스코프에서 상위 스코프 변수 참조 가능</p>\n<p>⇒ 상위 스코프에서 하위 스코프 변수 참조 불가능</p>\n<h2>스코프 체인에 의한 함수 검색</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// 전역 함수</span>\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"global function foo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// 중첩 함수</span>\n  <span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"local function foo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ①</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>함수 선언문으로 함수를 정의하면 런타임 이전에 함수 객체가 먼저 생성된다.</li>\n<li>함수 이름과 동일한 이름의 식별자를 암묵적으로 선언하고 생성된 함수 객체를 할당한다.</li>\n<li>함수도 식별자에 할당되기 때문에 스코프를 갖는다.</li>\n</ul>\n<hr>\n<h1>함수 레벨 스코프</h1>\n<ul>\n<li>블록 레벨 스코프\n<ul>\n<li>함수 몸체만이 아니라 모든 코드 블록(if, for, while, try/catch 등)이 지역 스코프를 만드는 것</li>\n<li>let, const 키워드로 선언된 변수</li>\n</ul>\n</li>\n<li>함수 레벨 스코프\n<ul>\n<li>오로지 함수의 코드 블록(함수 몸체)만을 지역 스코프로 인정하는 것</li>\n<li>var 키워드로 선언된 변수</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// var 키워드로 선언된 변수는 함수의 코드 블록(함수 몸체)만을 지역 스코프로 인정한다.</span>\n  <span class=\"token comment\">// 함수 밖에서 var 키워드로 선언된 변수는 코드 블록 내에서 선언되었다 할지라도 모두 전역 변수다.</span>\n  <span class=\"token comment\">// 따라서 x는 전역 변수다. 이미 선언된 전역 변수 x가 있으므로 x 변수는 중복 선언된다.</span>\n  <span class=\"token comment\">// 이는 의도치 않게 변수 값이 변경되는 부작용을 발생시킨다.</span>\n  <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 10</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// for 문에서 선언한 i는 전역 변수다. 이미 선언된 전역 변수 i가 있으므로 중복 선언된다.</span>\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> <span class=\"token number\">5</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 0 1 2 3 4</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 의도치 않게 변수의 값이 변경되었다.</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>i<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 5</span></code></pre></div>\n<hr>\n<h1>렉시컬 스코프</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">var</span> x <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token function\">foo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ?</span>\n<span class=\"token function\">bar</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ?</span></code></pre></div>\n<ul>\n<li>동적 스코프\n<ul>\n<li>함수를 어디서 호출했는지에 따라 함수의 상위 스코프가 결정된다.</li>\n<li>함수가 정의되는 시점에 함수가 어디서 호출될 지 알 수 없어 함수가 호출되는 시점에 동적으로 상위 스코프를 결정해야 하기 때문</li>\n</ul>\n</li>\n<li>렉시컬 스코프 (정적 스코프)\n<ul>\n<li>함수를 어디서 정의했는지에 따라 함수의 상위 스코프가 결정된다.</li>\n</ul>\n</li>\n</ul>\n<p>자바스크립트는 렉시컬 스코프를 따른다.</p>\n<p>함수 정의 (함수 선언문 또는 함수 표현식)가 실행되어 생성된 함수 객체는 상위 스코프를 기억한다.</p>\n<p>위 코드의 결과는…</p>\n<ul>\n<li>렉시컬 스코프를 따르므로 foo, bar의 상위 스코프는 전역 스코프이다.</li>\n<li>따라서 1, 1이 출력된다.</li>\n</ul>","frontmatter":{"title":"11. 스코프","date":"January 05, 2023","description":"모던 자바스크립트 Deep Dive [13장]","tags":["Javascript","모던 자바스크립트 Deep Dive"]}},"previous":{"fields":{"slug":"/2023/execution-context/"},"frontmatter":{"title":"10. 실행 컨텍스트"}},"next":{"fields":{"slug":"/2023/this/"},"frontmatter":{"title":"12. this"}}},"pageContext":{"id":"a2271c27-bf43-5552-9be3-c13c72134d19","previousPostId":"6460247a-fe64-5ccc-bdcf-07275ca70316","nextPostId":"65df10d3-2076-5c03-a02f-6ae11363586e"}},"staticQueryHashes":["230163734","2841359383"],"slicesMap":{}}
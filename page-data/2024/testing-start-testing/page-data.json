{"componentChunkName":"component---src-templates-blog-post-js","path":"/2024/testing-start-testing/","result":{"data":{"site":{"siteMetadata":{"title":"cozups-log"}},"markdownRemark":{"id":"777e0d1b-e406-53ca-afb8-70ed9740cc73","excerpt":"1. Testing…","html":"<h1>1. Testing이 필요한 이유</h1>\n<p>애플리케이션을 개발할 때, 사용자와 상호작용하여 기능이 제대로 수행될 수 있도록 만들어야 한다. 개발자가 스스로 직접 테스팅을 할 수 있지만 이것은 <strong>반복적인 작업이 필요</strong>하고, <strong>시간이 걸리는 작업</strong>이며 <strong>실수를 할 가능성</strong>이 있다.</p>\n<p>테스팅 라이브러리를 이용하여 자동적인 테스팅을 하면 직접 테스팅을 하는 것에 비해 <strong>시간을 덜 들일 수</strong> 있으며, <strong>좀 더 신빙성있고 일관적인 결과</strong>를 얻어낼 수 있어 <strong>견고한</strong> 애플리케이션을 만들 수 있다.</p>\n<h1>2. Jest와 React Testing Library(RTL)</h1>\n<p><strong>Jest</strong></p>\n<ul>\n<li>테스팅을 위한 프레임워크</li>\n<li>테스트를 정의하고 실행할 수 있고 무엇이 성공하고 실패했는지 알려준다.</li>\n</ul>\n<p><strong>React Testing Library</strong></p>\n<ul>\n<li>Virtual DOM을 이용하여 컴포넌트를 테스팅할 수 있게 해주는 라이브러리</li>\n</ul>\n<p>CRA(create-react-app)로 생성된 프로젝트는 기본적으로 RTL과 Jest를 제공한다.</p>\n<h1>3. Test의 종류</h1>\n<ul>\n<li>Unit Test\n<ul>\n<li>함수나 클래스, 컴포넌트 등 기능적인 단위의 테스트</li>\n<li>빠르게 실행 가능하며 작성하기 쉽다.</li>\n</ul>\n</li>\n<li>Integration Test\n<ul>\n<li>여러 유닛 간 통합적으로 잘 동작하는지 검증하는 테스트</li>\n<li>유닛 테스트보다 조금 더 시간이 걸린다.</li>\n</ul>\n</li>\n<li>E2E Test\n<ul>\n<li>소프트웨어의 전체 혹은 큰 부분을 검증하는 테스트</li>\n<li>실제 브라우저나 앱에서 실행되며 사용자 경험을 테스트한다.</li>\n<li>통합 테스트보다 더 긴 실행 시간이 소요된다.</li>\n</ul>\n</li>\n</ul>\n<h1>4. test 작성하기</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">,</span> timeout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">name</code>: 테스트의 이름</li>\n<li><code class=\"language-text\">fn</code>: 테스트가 검증해야 할 것들에 대한 코드가 담긴 함수</li>\n<li><code class=\"language-text\">timeout</code>: 테스트가 얼마 동안 실행되어야 하는지를 나타내는 속성 (optional)\n<ul>\n<li>default 5s</li>\n<li>ex) 5000 → 5초 동안 테스트가 완료되지 않으면 타임아웃</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Greet renders correctly\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Greet <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Virtual DOM을 이용하여 Greet 컴포넌트를 렌더링</span>\n  <span class=\"token keyword\">const</span> textElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// screen에서 'Hello' 텍스트를 가진 노드 찾기</span>\n  <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>textElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// 해당 노드가 Document에 존재하는지 검증</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">test.only</code>: 이 테스트만 진행한다.</li>\n<li><code class=\"language-text\">test.skip</code>: 테스트를 스킵한다.</li>\n</ul>\n<h2>alternative</h2>\n<ul>\n<li><code class=\"language-text\">it</code>: test의 대안\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Greet\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">it</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders correctly\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Greet <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> textElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>textElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n<li><code class=\"language-text\">fit</code>: test.only의 대안</li>\n<li><code class=\"language-text\">xit</code>: test.skip의 대안</li>\n</ul>\n<h1>5. Test Driven Development(TDD)</h1>\n<p>코드를 작성하기 전에 테스트를 먼저 작성하고, 그 후에 해당 테스트를 통과할 수 있도록 코드를 구현하는 방식</p>\n<ol>\n<li>특정한 기능에 대한 <strong>테스트를 먼저 작성</strong>하기</li>\n<li>테스트가 성공하도록 <strong>코드 구현</strong>하기</li>\n<li>테스트가 성공하는지 확인하며 <strong>리팩토링</strong>하기</li>\n</ol>\n<h1>6. Test 그룹화하기</h1>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span> fn<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">name</code>: 그룹 이름</li>\n<li><code class=\"language-text\">fn</code>: 테스트가 검증해야 할 것들에 대한 코드가 담긴 함수</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Greet\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders correctly\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Greet <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> textElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>textElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders a name\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Greet name<span class=\"token operator\">=</span><span class=\"token string\">\"cozups\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> textElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello cozups\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>textElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 420px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/12245d1b3a48b95c075e127b22f6aa8f/d10fb/react-testing1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 60.12658227848101%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAACOklEQVR42nVTy3LTQBDUF1AhxA85sqTV+2lZlvFLETYodnASOwmphPIpFFXc+QTOfAC/28ysSBWH5DA10u5OT/dsr/L0a4effx7x4/cNNC+FGWaw4hH8fAo7KeibI4eTFjCiHNNPW6y2NxjOV5jXW2TTFWa0ZtHe256AEpc5dt/ucPv9EX1vgHeajY7po2sFaBuejK4IZLRpvWdH0P2BzH0iwJmJcM3xqQXlTctES/dgJqlk42UTaG5ChxIYQQaTOotoCM2J5b9OodohjlRBYUpWnBmMySjHpza6tgs9CUniGPF4IUEYlMH94VQyt0i+IOknfYcIuLL4pVBYBh+QMkUjs6U7svCEcstwKZrvZs+Ve68CFtUGy4s9Mhpy9XmPs/Ue7ihHVKWY309Qfp0hqcaw4zFG1RqL+go6sWepLwLmZY3t3QH5YoUOMeBF1fExrAuUDwssDxWieQGdZHPT4uwcPSt8HXBOHfeHJ9TXX1Bt9vICek5ChTVmH6+QTZbUyIdK4+CxyBDNmPgi/g8JmEyXuLh9ICukcpEPam6K9x/OMaA9bpDNViT1EuVmR567RFgs5GWp/6ykEmOeP89WOSUfcVedvNSlbATDxmMEyjZhcA6DvKe5sSxkyWY0QpDPpI10P4NDLuiYHhRBFnEGY7JGIn1o0EvpiucbbzIfbNNtM5NGNhvdJWBH+pGVHfWarBQkrVxfI6SnxvOsd/eSDQNzsP/0YCBfRfOdkR9HEGEKEQRgH/Psnq30F2rfYif+/EQfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/12245d1b3a48b95c075e127b22f6aa8f/d10fb/react-testing1.png\"\n        srcset=\"/static/12245d1b3a48b95c075e127b22f6aa8f/c26ae/react-testing1.png 158w,\n/static/12245d1b3a48b95c075e127b22f6aa8f/6bdcf/react-testing1.png 315w,\n/static/12245d1b3a48b95c075e127b22f6aa8f/d10fb/react-testing1.png 420w\"\n        sizes=\"(max-width: 420px) 100vw, 420px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">describe</code>는 중첩도 가능하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Greet\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders correctly\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Greet <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> textElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>textElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">describe</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Nested\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">test</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"renders a name\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token operator\">&lt;</span>Greet name<span class=\"token operator\">=</span><span class=\"token string\">\"cozups\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> textElement <span class=\"token operator\">=</span> screen<span class=\"token punctuation\">.</span><span class=\"token function\">getByText</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Hello cozups\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token function\">expect</span><span class=\"token punctuation\">(</span>textElement<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toBeInTheDocument</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 441px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5ea4ce33c4ffb3352c30c3447e39d85a/efc6e/react-testing2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.92405063291139%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACQklEQVR42n1T227aUBDkC6qUgLkY8N2AbYyxTWww5RIgRZAoSduHtkJV1Q/oc5/6Ff3f6e6xHSlS6cPKxwc8O7MzW/ny64iffz7h/PsE2XTRtUfQ3BDmKIJOT2UwhuoEUIcBTH+KbHdCmG3hJysk6zu48QJ+ukJV1nDdMVDxFiEevj/hdH5Ct++j1jXR1AZo6UM01L6oluGIOy5u0LV9dKyROMuWR2dPgAnAN3WN/tiHNhrDcGNiFr8wZVYaFZ+5GQP0BtzUwNu29qpeAKuyjrbp4GZzwJzkONFMfCD1bNR7lmAoKTY983c+lx//qyqMftXUIOkmep5LjEIxq7buULkwvBgdYihbrpilRMBM4iIgy5NpRm3DFWbwPCTFQtOw0bb7omqKSQzzubb0wf8Zxss77O4/CqfS7QEROah4HuJThOXXFOtvGQw/wDhdI9s/YPpuizoZdxFwstjh8PwZyeY9dGeCGl3K9hDRPkH2vMLsPiO57G6AfpCScaEw4ZLsSnJ7xIfzDwEYL3fCcWU4Qbo5YrF/hOHEaGnDPJceZzNCjxxns64JtFq4XDaouNOFcLdDQ2cHeYYqAcYkjcegexPwf2bUOF7uKdS39J5hGM1FrDijKrFvFrOtcJCvWqroyLGoE6hUFBtRRodDXcqS6K7MZYPuOaesopjhlqQdMQjnSNcH3NA6MctyI5iFbHr5StKMGUisocMAupD6SrJCP1p+vh12kJCUGRrELo9IXmLtSFKb17FYy47JinK32cha4fxfn3l7gVzaO1kAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/5ea4ce33c4ffb3352c30c3447e39d85a/efc6e/react-testing2.png\"\n        srcset=\"/static/5ea4ce33c4ffb3352c30c3447e39d85a/c26ae/react-testing2.png 158w,\n/static/5ea4ce33c4ffb3352c30c3447e39d85a/6bdcf/react-testing2.png 315w,\n/static/5ea4ce33c4ffb3352c30c3447e39d85a/efc6e/react-testing2.png 441w\"\n        sizes=\"(max-width: 441px) 100vw, 441px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h1>7. Code Coverage</h1>\n<p>소프트웨어 테스트에서 사용하는 지표로, 테스트 케이스가 실행 시 코드의 어느 부분을 실행하는지 측정하여 테스트의 충분성을 평가하는 방법</p>\n<p><strong>코드 커버리지 종류</strong></p>\n<ul>\n<li><strong>문장 커버리지(Statement Coverage):</strong> 코드 내의 모든 문장이 실행되었는지 측정</li>\n<li><strong>브랜치</strong> <strong>커버리지(Branch Coverage):</strong> 프로그램 내의 조건문(if, switch 등)에서 각 분기(branch)가 얼마나 실행되었는지를 측정</li>\n<li><strong>조건 커버리지(Condition Coverage):</strong> 모든 조건식의 참/거짓 결과가 한 번씩 실행되었는지 측정</li>\n<li><strong>함수 또는 메소드 커버리지(Function/Method Coverage):</strong> 각 함수나 메소드가 얼마나 실행되었는지를 측정한다. 함수 커버리지는 특정 기능이나 모듈이 테스트되었는지를 확인하는 데 사용된다.</li>\n</ul>\n<h2><strong>코드 커버리지 실행 방법</strong></h2>\n<p><a href=\"https://create-react-app.dev/docs/running-tests/#coverage-reporting\">Running Tests | Create React App</a></p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// package.json (CRA)</span>\n<span class=\"token operator\">...</span>\n<span class=\"token string-property property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts start\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts build\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts test\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"eject\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts eject\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"coverage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm test -- --coverage --watchAll\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<ul>\n<li><code class=\"language-text\">--coverage</code> 옵션을 이용하여 커버리지 명령을 실행하고 전체에 대한 커버리지를 실행하기 위해 <code class=\"language-text\">--watchAll</code>옵션을 사용한다.</li>\n<li><code class=\"language-text\">npm run coverage</code> 혹은 <code class=\"language-text\">yarn coverage</code> 명령어를 사용하여 실행한다.</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/cc8e9daf69a7a2a5b9ec52b5c865371e/01645/react-testing3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 29.746835443037973%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABM0lEQVR42nWQ3W7UMBBG8wQV7dLSdjdZYsdO4t/8dltECwiJCyQegjfhzQ+TtuoVXBzNsTwef5ri959fnH48EJdPxPWEiQN+XvHjQt12VMZy0Ja9NhwaQyls542ysa9unvtulaG4f8x8+Tby+HXi89PI6SHic//MdBeY7yJh9ITBSXX0yeE3F9L44n12jEvA+o5CdZlSO26UpGkTNq7osKL8ysd+5ugmGi9pxZXc1X6WvoF3t+qN863ebFVTLM7Rmo6za8Wu6nBWfu0jZedp+0CeIoOPJOHyaLk6Gi4rw/tSv3DQ7F59J15M2fPzfmDoOo7GsZe9mN5T50ATA+0UJKkjpoiVYed7xYWwPf4XRSMJ5u8zbk2okKi8R48ZlRN1TOghUidZxTJyVbV8qFtJaf878C8xOa5z+jemaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"코드 커버리지 실행 결과\"\n        title=\"\"\n        src=\"/static/cc8e9daf69a7a2a5b9ec52b5c865371e/f058b/react-testing3.png\"\n        srcset=\"/static/cc8e9daf69a7a2a5b9ec52b5c865371e/c26ae/react-testing3.png 158w,\n/static/cc8e9daf69a7a2a5b9ec52b5c865371e/6bdcf/react-testing3.png 315w,\n/static/cc8e9daf69a7a2a5b9ec52b5c865371e/f058b/react-testing3.png 630w,\n/static/cc8e9daf69a7a2a5b9ec52b5c865371e/40601/react-testing3.png 945w,\n/static/cc8e9daf69a7a2a5b9ec52b5c865371e/01645/react-testing3.png 1091w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>코드 커버리지 실행 결과</p>\n<h2>특정 파일/폴더만 코드 커버리지 실행하기</h2>\n<p><a href=\"https://jestjs.io/docs/configuration#collectcoveragefrom-array\">Configuring Jest · Jest</a></p>\n<p>index.tsx파일이나 reportWebVitals.ts는 주로 테스트 할 필요가 없으므로 src/components 폴더 속 테스트 파일만 코드 커버리지를 실행하기 위해 <code class=\"language-text\">--collectCoverageFrom</code> 옵션을 사용할 수 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// package.json</span>\n<span class=\"token operator\">...</span>\n<span class=\"token string-property property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts start\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts build\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"test\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts test\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"eject\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"react-scripts eject\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string-property property\">\"coverage\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm test -- --coverage --watchAll --collectCoverageFrom='src/components/**/*.{ts,tsx}'\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d7d56d433f03c588aa6b8bca2b65474a/bca35/react-testing4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABJklEQVR42lWPS07DQBBEfQDEJwHFiRP/7fHYM2M7Hjv+BcQCFkQCsecC3IBLcIlctGhbyoJFaaa61d31jO/fT/ycv+BmOdJqIPXg+w4uL+AkOTI9IFINWHGAFWa4MR3cbbx/ul27s5aWD6N9GzG8j7AigaJ7hqiPSPWRlmjsYgE7zrGLJKwgI6/g8MnTmxSw6eB0dKrbTOHBjmD4mcY2pIE4RSA0eNWC1z1CqVH2T1D9I/1ryEMPVjZzYtkORNEjq4dZSUEzVYeVy2Ako0R12qN8qWA6KbYigj61WKx8OCVDfepwtXShXnPEusS9E6D5aLD2Oa5X9ox6wV5MyFbE4QpBkthR7A15T+TYBLScUWpVzsM2TwmX+mEKTyrClDA9NvcumpD/AGxKlN6zxXSmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/d7d56d433f03c588aa6b8bca2b65474a/f058b/react-testing4.png\"\n        srcset=\"/static/d7d56d433f03c588aa6b8bca2b65474a/c26ae/react-testing4.png 158w,\n/static/d7d56d433f03c588aa6b8bca2b65474a/6bdcf/react-testing4.png 315w,\n/static/d7d56d433f03c588aa6b8bca2b65474a/f058b/react-testing4.png 630w,\n/static/d7d56d433f03c588aa6b8bca2b65474a/bca35/react-testing4.png 683w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2>coverageThreshold</h2>\n<p>특정 수준의 코드 커버리지를 설정하고 이 수준 이하의 커버리지가 감지되면 빌드나 테스트를 실패하도록 하는 기능</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// package.json</span>\n<span class=\"token operator\">...</span>\n<span class=\"token string-property property\">\"jest\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string-property property\">\"coverageThreshold\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string-property property\">\"global\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string-property property\">\"branches\"</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"functions\"</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"lines\"</span><span class=\"token operator\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string-property property\">\"statements\"</span><span class=\"token operator\">:</span> <span class=\"token operator\">-</span><span class=\"token number\">10</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<p>브랜치 커버리지, 함수 커버리지, 라인 커버리지를 80%이상 달성해야 하고 구문 커버리지에서 실행되지 않는 구문이 10개 이하여야 성공한다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/36120a8ef61e61e0623c663ccfff2158/b2982/react-testing5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.34177215189873%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAABhklEQVR42i2R23LaMBCG/QhJQ9KWQDA+yGfZUmTAnEuGtGGmtNNH6E3f/wm+roGLf3b3087qX8n78+/Ar787Ul1h5g7tLHVrMTODW3as9itm6475qiUpU5IqI7spylNUkZLpaz6OFJ4xGecPy/lk+f3zlbe3mvdjw/d3w/FYS63ZbqsL//hh2e40J+k/HGrWG823/ZXvdg3GFXhJXbHYGF4XDXZuJZqru86SaM1zlPOiREnJMMwYJwWjuBCeScwvsedf/FgU4U0Sw2CUcfc1JihnhMWcsbKopiOuOsLSEeRO+IygsERF3+NImwWJKJLzsHJ8Ggbci7x8K+5OLenK8jQpKPaGYj3jbhjT7VtGUUm8qNGHjoexoj0v8XPNYKJ49BOeRJ+nCQ+j8CIvbyqapcG2hjCu5FM01jmmfspSVs9STd6UuEVLIKt1m5aqagiClKh/DomPvmIwvg2MX2ImzxFWblFTRSp1HSTkoaIWlvVcWClOCuFanCkZkEteinyp72/u+oH/AS791HmnpNPXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"브랜치 커버리지가 50%이므로 실패했음을 알려줌\"\n        title=\"\"\n        src=\"/static/36120a8ef61e61e0623c663ccfff2158/f058b/react-testing5.png\"\n        srcset=\"/static/36120a8ef61e61e0623c663ccfff2158/c26ae/react-testing5.png 158w,\n/static/36120a8ef61e61e0623c663ccfff2158/6bdcf/react-testing5.png 315w,\n/static/36120a8ef61e61e0623c663ccfff2158/f058b/react-testing5.png 630w,\n/static/36120a8ef61e61e0623c663ccfff2158/b2982/react-testing5.png 729w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>브랜치 커버리지가 50%이므로 실패했음을 알려줌</p>\n<p>코드 커버리지는 커버리지 결과에 대한 html 파일 또한 생성해준다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6d189806e6aa76795c4a30799c8fdfd7/c587f/react-testing6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA30lEQVR42tWQ3U7DMAyF8/4PB+OnjI1NTB0TpF3TMtY6sdMe3KwSgpsB4gZLn3ys4xxFNkQeHBjMjBBC6t57CAt+U+ZwfMVIRy3IU+otHUGhQxCPEEcCvEyoZiV5X/BCMLlb4HGfYWkvlEusiius7Q1yd3+imiO3MzxXGV5chp3uru3t5C+w2c+xKe/SvK2XML5/Q9U+YVVqUHmNXfMAkkZ/0qBlh04cBi4AKdAHi6iapAap33Gt/olxl+QA893bDBNnbziuDUP/iY/nP8fgj+ufB8YYISKQ2KuWNJ8LfAeXJhB66CXKAwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/6d189806e6aa76795c4a30799c8fdfd7/f058b/react-testing6.png\"\n        srcset=\"/static/6d189806e6aa76795c4a30799c8fdfd7/c26ae/react-testing6.png 158w,\n/static/6d189806e6aa76795c4a30799c8fdfd7/6bdcf/react-testing6.png 315w,\n/static/6d189806e6aa76795c4a30799c8fdfd7/f058b/react-testing6.png 630w,\n/static/6d189806e6aa76795c4a30799c8fdfd7/40601/react-testing6.png 945w,\n/static/6d189806e6aa76795c4a30799c8fdfd7/78612/react-testing6.png 1260w,\n/static/6d189806e6aa76795c4a30799c8fdfd7/c587f/react-testing6.png 1863w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>파일을 선택하면 실행되지 않은 부분에 대하여 하이라이트를 해준다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/90d2937eca93cff4fb750ae13da0f1df/c587f/react-testing7.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.10126582278481%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAfklEQVR42u2SwQ6CMBAF+/+faCoGDDFKpcWglu7SsXrwakS9+fImL3uZ0xrnAuNpRHUmTQkVfe6SmLav2DpL3VU0bl2wNJ2l9Rt2Q/02Zu8OeB/ow4rj0HKJZ5JGJrkSF2DmOUMpWQr53o9i+HL+wh8LVRURQcrTq8rjfiW8AaVlFHSJvQdsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Untitled\"\n        title=\"\"\n        src=\"/static/90d2937eca93cff4fb750ae13da0f1df/f058b/react-testing7.png\"\n        srcset=\"/static/90d2937eca93cff4fb750ae13da0f1df/c26ae/react-testing7.png 158w,\n/static/90d2937eca93cff4fb750ae13da0f1df/6bdcf/react-testing7.png 315w,\n/static/90d2937eca93cff4fb750ae13da0f1df/f058b/react-testing7.png 630w,\n/static/90d2937eca93cff4fb750ae13da0f1df/40601/react-testing7.png 945w,\n/static/90d2937eca93cff4fb750ae13da0f1df/78612/react-testing7.png 1260w,\n/static/90d2937eca93cff4fb750ae13da0f1df/c587f/react-testing7.png 1863w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>","frontmatter":{"title":"[React Testing] 테스팅 시작하기","date":"January 11, 2024","description":"리액트 테스팅에 대한 기본사항","tags":["React","React Testing"]}},"previous":{"fields":{"slug":"/2023/RQ-queries/"},"frontmatter":{"title":"[React Query] Queries - parallel, dependent, paginated, infinite queries"}},"next":{"fields":{"slug":"/2024/testing-getBy-queryBy-findBy/"},"frontmatter":{"title":"[React Testing] getBy, queryBy, findBy"}}},"pageContext":{"id":"777e0d1b-e406-53ca-afb8-70ed9740cc73","previousPostId":"783f46c9-5c71-56bb-be26-669021eb4b43","nextPostId":"08f1f0da-a52e-52a4-8e8d-ba01d0228865"}},"staticQueryHashes":["230163734","2841359383"],"slicesMap":{}}
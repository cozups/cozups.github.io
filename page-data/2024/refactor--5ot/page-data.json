{"componentChunkName":"component---src-templates-blog-post-js","path":"/2024/refactor--5ot/","result":{"data":{"site":{"siteMetadata":{"title":"cozups-log"}},"markdownRemark":{"id":"58bac30d-b73c-524e-8e9c-49007eef574e","excerpt":"â€¦","html":"<p>í”„ë¡œì íŠ¸ ì •ë¦¬í•  ê²¸ ì½”ë“œë¥¼ ë“¤ì—¬ë‹¤ë³´ë‹ˆ ë¬¸ì œì ì´ ìƒê°ë³´ë‹¤ ë§ì´ ë°œê²¬ë˜ì—ˆë‹¤ğŸ’¦</p>\n<p>ì›¹ í”„ë¡œì íŠ¸ë¥¼ ì²˜ìŒ ë°°ìš°ê¸° ì‹œì‘í•˜ê³  ë‚˜ì„œ ì–¼ë§ˆ ì•ˆë˜ì–´ ì§„í–‰í•œ í”„ë¡œì íŠ¸ë¼ ê°œì„ í•´ì•¼ í•  ì‚¬í•­ì´ ë§ì•˜ë‹¤.</p>\n<p>ë”°ë¼ì„œ í”„ë¡œì íŠ¸ ì½”ë“œë¥¼ ë¦¬íŒ©í† ë§í•˜ë©´ì„œ ê°œì„  ì‚¬í•­ë“¤ì„ ì •ë¦¬í•´ë³´ë ¤ê³  í•œë‹¤.</p>\n<h1>ê°œì„ ì </h1>\n<ol>\n<li>ì¹´í…Œê³ ë¦¬ê°€ í•˜ë“œ ì½”ë”© ë˜ì–´ìˆìŒ â†’ DBì—ì„œ ì¹´í…Œê³ ë¦¬ë¥¼ ê°€ì ¸ì™€ì„œ ë Œë”ë§</li>\n<li>í™ˆí˜ì´ì§€ì— ìŠ¬ë¼ì´ë”© ë˜ëŠ” ì´ë¯¸ì§€ë¥¼ ê° ì¹´í…Œê³ ë¦¬ ë³„ ì²«ë²ˆì§¸ ì œí’ˆ ì´ë¯¸ì§€ë¡œ ë³€ê²½</li>\n<li>all ì¹´í…Œê³ ë¦¬ëŠ” ì§ì ‘ ë“±ë¡í•˜ëŠ” ê²ƒë³´ë‹¤ DBì— ë“±ë¡ëœ ìƒí’ˆì„ ìµœì‹ ìˆœìœ¼ë¡œ ê°€ì ¸ì™€ì„œ ë¦¬ìŠ¤íŠ¸ë¥¼ ê·¸ë¦¬ëŠ” ë°©ë²•ìœ¼ë¡œ ë³€ê²½</li>\n<li>ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì—ì„œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•  ê²ƒ\n<ul>\n<li>ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ í˜ì´ì§€ë¥¼ ë‹«ì„ ê²½ìš° ë¹„ì›Œì§€ê¸° ë•Œë¬¸ì— ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ ì‚¬ìš©ì ì¸¡ë©´ì—ì„œ í¸ë¦¬í•  ê²ƒìœ¼ë¡œ ì˜ˆìƒ</li>\n</ul>\n</li>\n<li>ì‚¬ì§„ í´ë¦­ì´ ì•„ë‹ˆë¼ ì¹´í…Œê³ ë¦¬ ì´ë¦„ë„ í´ë¦­í•˜ì—¬ ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í™”ë©´ìœ¼ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê²ƒì´ ì§ê´€ì ì´ê³  í¸í•  ë“¯</li>\n<li>ê³µí†µë˜ëŠ” ë¡œì§ë“¤ì„ ë¶„ë¦¬í•˜ê³  ì‹¶ìŒâ€¦ ìœ ì§€ë³´ìˆ˜ê°€ ë„ˆë¬´ ì–´ë µë‹¤</li>\n<li>ê²€ìƒ‰ ê¸°ëŠ¥ì— ë²„ê·¸ ìˆ˜ì •</li>\n<li>ì´ë²¤íŠ¸ ìœ„ì„ ë¡œì§ ê°€ë…ì„± ê°œì„ \n<ul>\n<li>data ì–´íŠ¸ë¦¬ë·°íŠ¸ ì‚¬ìš©</li>\n</ul>\n</li>\n</ol>\n<h1>ê°œì„ í•˜ê¸°</h1>\n<h2>1. ì¹´í…Œê³ ë¦¬ í•˜ë“œ ì½”ë”© ê³ ì¹˜ê¸°</h2>\n<p>í˜„ì¬ì˜ ì½”ë“œëŠ” ì¹´í…Œê³ ë¦¬ë¥¼ í•˜ë“œ ì½”ë”©í•œë‹¤.</p>\n<p>ì´ ê²½ìš°, ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•˜ë©´ í™”ë©´ì— ë Œë”ë§ë˜ì§€ ì•ŠëŠ”ë‹¤.</p>\n<p>ì¹´í…Œê³ ë¦¬ ì¶”ê°€ ê¸°ëŠ¥ì´ ìˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ì´ë¥¼ ì œëŒ€ë¡œ í™œìš©í•˜ì§€ ëª»í•˜ëŠ” ê²ƒì´ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fetchCategories</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> womanCategories <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Api<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/category\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> manCategories <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ì„±ë³„ í•„í„°ë§</span>\n    result<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">category</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      category<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">===</span> <span class=\"token string\">\"w\"</span>\n        <span class=\"token operator\">?</span> womanCategories<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>category<span class=\"token punctuation\">)</span>\n        <span class=\"token operator\">:</span> manCategories<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>category<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"womanCategories\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>womanCategories<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"manCategories\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>manCategories<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">[</span>womanCategories<span class=\"token punctuation\">,</span> manCategories<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>stack<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤. í™•ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>err<span class=\"token punctuation\">.</span>message<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>DBë¡œë¶€í„° ì¹´í…Œê³ ë¦¬ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ ì„±ë³„ ë³„ë¡œ ë‚˜ëˆ„ì–´ ë°˜í™˜í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">renderCategories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> slideButtons <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> womanCategories <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">let</span> manCategories <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">!</span>sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"womanCategories\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">||</span>\n    <span class=\"token operator\">!</span>sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"manCategories\"</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token punctuation\">[</span>womanCategories<span class=\"token punctuation\">,</span> manCategories<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetchCategories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    womanCategories <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"womanCategories\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    manCategories <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"manCategories\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ulì— ë™ì ìœ¼ë¡œ li ìƒì„± í›„ ì‚½ì…</span>\n  <span class=\"token keyword\">const</span> womanUL <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".slide-button-list.woman\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> manUL <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".slide-button-list.man\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> womanCategoriesItem <span class=\"token operator\">=</span> womanCategories<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cat<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"slide-button-element\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> index<span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> cat<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/list/w/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cat<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n    slideButtons<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    li<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> li<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> manCategoriesItem <span class=\"token operator\">=</span> manCategories<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">cat<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"slide-button-element\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>value <span class=\"token operator\">=</span> womanCategories<span class=\"token punctuation\">.</span>length <span class=\"token operator\">+</span> index<span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> cat<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">;</span>\n    item<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/list/m/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cat<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n    slideButtons<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    li<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">return</span> li<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  womanUL<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>womanCategoriesItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  manUL<span class=\"token punctuation\">.</span><span class=\"token function\">append</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>manCategoriesItem<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> slideButtons<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ì¹´í…Œê³ ë¦¬ ì •ë³´ë¥¼ ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ì—¬ ë§¤ë²ˆ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¬ í•„ìš”ì„±ì„ ì¤„ì´ê³  íƒ­ì„ ë‹«ì„ ë•Œë§ˆë‹¤ ì •ë³´ë¥¼ ì§€ìš°ë„ë¡ í•œë‹¤.</p>\n<p>ì´ ì‘ì—…ì´ í•„ìš”í•œ í˜ì´ì§€ëŠ” í™ˆ ë©”ì¸ í˜ì´ì§€, ì œí’ˆ ë¦¬ìŠ¤íŠ¸ í˜ì´ì§€, ì œí’ˆ ìƒì„¸ í˜ì´ì§€, ê²€ìƒ‰ í˜ì´ì§€ì´ë¯€ë¡œ ì´ë¥¼ ê° í˜ì´ì§€ì˜ jsíŒŒì¼ì— ë„ì…í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Api <span class=\"token keyword\">from</span> <span class=\"token string\">'/api.js'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> renderCategories <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'/category.js'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> headerMenu <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">'#navbar a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> section <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementsByTagName</span><span class=\"token punctuation\">(</span><span class=\"token string\">'section'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> pathname <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">'/'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sex <span class=\"token operator\">=</span> pathname<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> type <span class=\"token operator\">=</span> pathname<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ì¹´í…Œê³ ë¦¬ ë Œë§</span>\n<span class=\"token keyword\">let</span> sideMenus <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">renderCategories</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsideMenus<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">(</span><span class=\"token parameter\">menu</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> menu<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">===</span> type <span class=\"token operator\">&amp;&amp;</span> menu<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">'button-active'</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span></code></pre></div>\n<h2>2. ìŠ¬ë¼ì´ë”© ì´ë¯¸ì§€ ë³€ê²½</h2>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>li</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>item-photo new<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>/list/w/new<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span>\n      <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://static.zara.net/photos///contents/mkt/spots/ss22-north-woman-new/subhome-xmedia-19//w/1039/IMAGE-landscape-f15c96c3-370d-4703-a9af-4a92065f0bfe-default_0.jpg?ts=1652354105595<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span><span class=\"token punctuation\">\"</span></span>\n    <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>li</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>ìŠ¬ë¼ì´ë”© ì´ë¯¸ì§€ ë˜í•œ ìœ„ì˜ í˜•íƒœë¡œ í•˜ë“œì½”ë”© ë˜ì–´ìˆë‹¤.</p>\n<p>ì´ ê²½ìš°ì˜ ë¬¸ì œì ì€ ì¹´í…Œê³ ë¦¬ë¥¼ ìƒˆë¡œ ì¶”ê°€í•  ë•Œ ë”°ë¡œ ì´ë¯¸ì§€ë¥¼ ì‚½ì…í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ë¥¼ ì¶”ê°€í•˜ë©´ ê·¸ ì¹´í…Œê³ ë¦¬ê°€ ì¶œë ¥í•  ì´ë¯¸ì§€ê°€ ì—†ìœ¼ë¯€ë¡œ ì—‘ìŠ¤ë°•ìŠ¤ê°€ ê·¸ë ¤ì§ˆ ê²ƒì´ë‹¤.</p>\n<p>ë”°ë¼ì„œ ê° ì¹´í…Œê³ ë¦¬ì— ì œí’ˆì´ 1ê°œ ì´ìƒ ë“±ë¡ë˜ì–´ ìˆë‹¤ëŠ” ê°€ì • í•˜ì— ìŠ¬ë¼ì´ë”© ì´ë¯¸ì§€ë¥¼ ê° ì¹´í…Œê³ ë¦¬ì˜ ìµœì‹  ì œí’ˆ ì´ë¯¸ì§€ë¡œ ë³€ê²½í•˜ë ¤ í•œë‹¤.</p>\n<p>ì¹´í…Œê³ ë¦¬ ë°ì´í„°ì— ì´ë¯¸ì§€ í”„ë¡œí¼í‹°ë¥¼ ì¶”ê°€í•˜ê³  í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ìƒˆë¡œìš´ ì œí’ˆì´ ë“±ë¡ë˜ë©´ ê·¸ ì œí’ˆì˜ ì´ë¯¸ì§€ ë§í¬ë¥¼ ì¹´í…Œê³ ë¦¬ì˜ ì´ë¯¸ì§€ í”„ë¡œí¼í‹°ì— ì €ì¥í•œë‹¤.</p>\n<ul>\n<li>ì¹´í…Œê³ ë¦¬ ë°ì´í„°ì— ì´ë¯¸ì§€ í”„ë¡œí¼í‹° ì¶”ê°€</li>\n<li>ìƒí’ˆ ë“±ë¡ ì‹œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ì´ë¯¸ì§€ í”„ë¡œí¼í‹°ì—ë„ ë§í¬ ì €ì¥</li>\n<li>í™ˆ í˜ì´ì§€ì˜ ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ srcë¥¼ ì¹´í…Œê³ ë¦¬ì˜ ì´ë¯¸ì§€ í”„ë¡œí¼í‹°ë¡œ ì§€ì •</li>\n</ul>\n<h3>1) ì¹´í…Œê³ ë¦¬ ë°ì´í„°ì— ì´ë¯¸ì§€ í”„ë¡œí¼í‹° ì¶”ê°€</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> CategorySchema <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Schema</span><span class=\"token punctuation\">(</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">sex</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">required</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">required</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token comment\">// ì¶”ê°€ëœ ë¶„</span>\n    <span class=\"token literal-property property\">image</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> String<span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">collection</span><span class=\"token operator\">:</span> <span class=\"token string\">\"categories\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token literal-property property\">timestamps</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">await</span> Api<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/category\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> sex<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> image <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì¹´í…Œê³ ë¦¬ì˜ ìŠ¤í‚¤ë§ˆì— imageë¥¼ ì¶”ê°€í•˜ë©´ ì¹´í…Œê³ ë¦¬ë¥¼ ìƒˆë¡œ ì¶”ê°€í•  ë•Œ image í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ëœë‹¤.</p>\n<h3>2) ìƒí’ˆ ë“±ë¡ ì‹œ í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì˜ ì´ë¯¸ì§€ í”„ë¡œí¼í‹°ì—ë„ ë§í¬ ì €ì¥</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">productRouter<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span>\n  <span class=\"token string\">\"/insertion\"</span><span class=\"token punctuation\">,</span>\n  upload<span class=\"token punctuation\">.</span><span class=\"token function\">single</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"image\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  loginRequired<span class=\"token punctuation\">,</span>\n  <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">req<span class=\"token punctuation\">,</span> res<span class=\"token punctuation\">,</span> next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>req<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> product_name<span class=\"token punctuation\">,</span> sex<span class=\"token punctuation\">,</span> type<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> producer<span class=\"token punctuation\">,</span> stock<span class=\"token punctuation\">,</span> product_info <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span>\n        req<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> product_image <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/images/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>req<span class=\"token punctuation\">.</span>file<span class=\"token punctuation\">.</span>filename<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// image ê²½ë¡œ ë§Œë“¤ê¸°</span>\n\n      <span class=\"token keyword\">const</span> category <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> sex<span class=\"token punctuation\">,</span> type <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token keyword\">const</span> new_product <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> productService<span class=\"token punctuation\">.</span><span class=\"token function\">addItems</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        product_name<span class=\"token punctuation\">,</span>\n        category<span class=\"token punctuation\">,</span>\n        product_image<span class=\"token punctuation\">,</span>\n        price<span class=\"token punctuation\">,</span>\n        producer<span class=\"token punctuation\">,</span>\n        stock<span class=\"token punctuation\">,</span>\n        product_info<span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      <span class=\"token comment\">// ì¶”ê°€ëœ ë¶€ë¶„</span>\n      <span class=\"token keyword\">await</span> categoryService<span class=\"token punctuation\">.</span><span class=\"token function\">setCategory</span><span class=\"token punctuation\">(</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">sex_YetUpdated</span><span class=\"token operator\">:</span> sex<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">type_YetUpdated</span><span class=\"token operator\">:</span> type <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">image</span><span class=\"token operator\">:</span> product_image <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n      res<span class=\"token punctuation\">.</span><span class=\"token function\">status</span><span class=\"token punctuation\">(</span><span class=\"token number\">201</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span>new_product<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">next</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>ì´ ë¶€ë¶„ì€ ë°±ì—”ë“œ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì¸ë°, ìƒí’ˆì„ ë“±ë¡í•  ë•Œ ì¹´í…Œê³ ë¦¬ì˜ image í”„ë¡œí¼í‹°ì˜ ê°’ì„ ì—…ë°ì´íŠ¸ í•˜ë„ë¡ í–ˆë‹¤.</p>\n<h3>3) í™ˆ í˜ì´ì§€ì˜ ìŠ¬ë¼ì´ë“œ ì´ë¯¸ì§€ srcë¥¼ ì¹´í…Œê³ ë¦¬ì˜ ì´ë¯¸ì§€ í”„ë¡œí¼í‹°ë¡œ ì§€ì •</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">renderSlideImages</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> womanCategories <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"womanCategories\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> manCategories <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">parse</span><span class=\"token punctuation\">(</span>sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">getItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"manCategories\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> categories <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>womanCategories<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>manCategories<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> categoryItems <span class=\"token operator\">=</span> categories<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n    <span class=\"token parameter\">category</span> <span class=\"token operator\">=></span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    &lt;li class=\"item-photo </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n      &lt;a href=\"/list/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token punctuation\">.</span>sex<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n        &lt;img\n          src=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token punctuation\">.</span>image<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"\n          alt=\"\"\n        />\n      &lt;/a>\n    &lt;/li>\n  </span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  slides<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> categoryItems<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>í•˜ë“œ ì½”ë”©ëœ htmlì„ ì§€ìš°ê³  ë™ì ìœ¼ë¡œ listitemì„ ë Œë”ë§í•œë‹¤.</p>\n<h2>3. all ì¹´í…Œê³ ë¦¬ ë¦¬ìŠ¤íŠ¸ ë³€ê²½í•˜ê¸°</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> pathname <span class=\"token operator\">=</span> window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>pathname<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sex <span class=\"token operator\">=</span> pathname<span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> type <span class=\"token operator\">=</span> pathname<span class=\"token punctuation\">[</span><span class=\"token number\">3</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>type <span class=\"token operator\">===</span> <span class=\"token string\">\"all\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getProductAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">getProductList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getProductAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Api<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/product/all\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> elements <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">.</span>sex <span class=\"token operator\">===</span> sex<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> product_name<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> product_info<span class=\"token punctuation\">,</span> product_image<span class=\"token punctuation\">,</span> product_id <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span>\n          data<span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n          &lt;div id=\"product-list-wrap\">\n            &lt;a href=\"/list/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>sex<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>data<span class=\"token punctuation\">.</span>category<span class=\"token punctuation\">.</span>type<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"> \n              &lt;div class=\"product-list\">\n              &lt;img class=\"product-thumbnail\" src=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_image<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"/>\n                &lt;div class=\"product-content\">\n                  &lt;div class=\"content\">\n                    &lt;h3 class=\"name\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/h3>\n                    &lt;h4 class=\"price\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>price<span class=\"token punctuation\">.</span><span class=\"token function\">toLocaleString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ì›&lt;/h4>\n                    &lt;p class=\"description\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_info<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/p>\n                  &lt;/div>          \n                &lt;/div>\n              &lt;/div>\n            &lt;/a>\n            \n          &lt;/div>\n          </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>elements<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    section<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">error : </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>error<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>all ì¹´í…Œê³ ë¦¬ì— ì ‘ê·¼í•˜ë©´ <code class=\"language-text\">getProductAll</code> í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤.</p>\n<p>getProductAllì€ ëª¨ë“  ì œí’ˆì„ ë¶ˆëŸ¬ì™€ í•´ë‹¹ ì„±ë³„ì— ë§ê²Œ ì œí’ˆì„ í•„í„°ë§í•˜ê³  ë Œë”ë§í•œë‹¤.</p>\n<p>ì„±ë³„ ë³„ë¡œ ë°ì´í„°ë¥¼ ì¿¼ë¦¬í•˜ë©´ ë˜ì§€ë§Œ í˜„ì¬ ì½”ë“œ ìƒíƒœë¡œëŠ” ë°±ì—”ë“œì—ì„œ ì„±ë³„ ë³„ë¡œ ë°ì´í„°ë¥¼ ê²€ìƒ‰í•˜ëŠ” ê¸°ëŠ¥ì´ ì—†ê¸° ë•Œë¬¸ì— ì¼ë‹¨ ì´ì²˜ëŸ¼ êµ¬í˜„í–ˆë‹¤.</p>\n<h2>4. ë¡œê·¸ì¸ ì •ë³´ ì €ì¥ ë°©ì‹ ë³€ê²½</h2>\n<p>í˜„ì¬ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ê³  ìˆë‹¤.</p>\n<p>ê·¸ëŸ¬ë‚˜ ì´ ê²½ìš° ìœ ì €ê°€ íƒ­ì„ ë‹«ìœ¼ë©´ ë¡œê·¸ì¸ ì •ë³´ê°€ ì‚¬ë¼ì ¸ ë‹¤ì‹œ í˜ì´ì§€ì— ì ‘ì†í•˜ëŠ” ê²½ìš° ë‹¤ì‹œ ë¡œê·¸ì¸ì„ í•´ì•¼ í•œë‹¤.</p>\n<p>ì´ ë‹¨ì ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì„ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë°”ê¿¨ë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">handleSubmit</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> email <span class=\"token operator\">=</span> emailInput<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> password <span class=\"token operator\">=</span> passwordInput<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// ì˜ ì…ë ¥í–ˆëŠ”ì§€ í™•ì¸</span>\n  <span class=\"token keyword\">const</span> isEmailValid <span class=\"token operator\">=</span> <span class=\"token function\">validateEmail</span><span class=\"token punctuation\">(</span>email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> isPasswordValid <span class=\"token operator\">=</span> password<span class=\"token punctuation\">.</span>length <span class=\"token operator\">>=</span> <span class=\"token number\">4</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>isEmailValid <span class=\"token operator\">||</span> <span class=\"token operator\">!</span>isPasswordValid<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>\n      <span class=\"token string\">\"ë¹„ë°€ë²ˆí˜¸ê°€ 4ê¸€ì ì´ìƒì¸ì§€, ì´ë©”ì¼ í˜•íƒœê°€ ë§ëŠ”ì§€ í™•ì¸í•´ ì£¼ì„¸ìš”.\"</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// ë¡œê·¸ì¸ api ìš”ì²­</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> email<span class=\"token punctuation\">,</span> password <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Api<span class=\"token punctuation\">.</span><span class=\"token function\">post</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/api/login\"</span><span class=\"token punctuation\">,</span> data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> token <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>token<span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ë¡œê·¸ì¸ ì„±ê³µ</span>\n    localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"token\"</span><span class=\"token punctuation\">,</span> token<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">,</span> email<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ì •ìƒì ìœ¼ë¡œ ë¡œê·¸ì¸ë˜ì—ˆìŠµë‹ˆë‹¤.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// ê¸°ë³¸ í˜ì´ì§€ë¡œ ì´ë™</span>\n    window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">.</span>stack<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ë¬¸ì œê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤. í™•ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>err<span class=\"token punctuation\">.</span>message<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>5. ê²€ìƒ‰ ê¸°ëŠ¥ ê°œì„ </h2>\n<p>í˜„ì¬ì˜ ê²€ìƒ‰ ê¸°ëŠ¥ì€</p>\n<ul>\n<li>ì—”í„° í‚¤ë¥¼ ì…ë ¥í•˜ì—¬ ê²€ìƒ‰ ë¶ˆê°€</li>\n<li>ê²€ìƒ‰ ê²°ê³¼ê°€ ì œëŒ€ë¡œ ë Œë”ë§ ë˜ì§€ ì•ŠìŒ</li>\n</ul>\n<p>ìœ„ì˜ ë¬¸ì œì ì´ ìˆë‹¤.</p>\n<h3>1) ì—”í„° í‚¤ë¥¼ ì…ë ¥í•˜ì—¬ ê²€ìƒ‰</h3>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>div-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>searchbar<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>h1</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search-form-title<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ìƒí’ˆ ê²€ìƒ‰<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>h1</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>form</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search-form<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>input</span>\n        <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>search<span class=\"token punctuation\">\"</span></span>\n        <span class=\"token attr-name\">placeholder</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>ì°¾ìœ¼ì‹œëŠ” ì œí’ˆëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”<span class=\"token punctuation\">\"</span></span>\n      <span class=\"token punctuation\">/></span></span>\n      <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>button<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>submit<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>ê²€ìƒ‰<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>form</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> searchForm <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".search-form\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsearchForm<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"submit\"</span><span class=\"token punctuation\">,</span> searchProducts<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>form íƒœê·¸ë¥¼ ì¶”ê°€í•˜ê³  submit ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•´ì¤¬ë‹¤.</p>\n<h3>2) ê²€ìƒ‰ ê²°ê³¼ ë²„ê·¸ ìˆ˜ì •</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ê¸°ì¡´ ì½”ë“œ</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">searchProducts</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> search<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Api<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/product/all\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> result<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> name <span class=\"token operator\">=</span> result<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>product_name<span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\"> </span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toUpperCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">!==</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      data<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">//ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ì— ì €ì¥</span>\n  sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"searchProducts\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token string\">\"/searchlist\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// ê°œì„  ì½”ë“œ</span>\n<span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">searchProducts</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  e<span class=\"token punctuation\">.</span><span class=\"token function\">preventDefault</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> input <span class=\"token operator\">=</span> search<span class=\"token punctuation\">.</span>value<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> Api<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/product/all\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> item<span class=\"token punctuation\">.</span>product_name\n      <span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">.</span><span class=\"token function\">includes</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">.</span><span class=\"token function\">toLowerCase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">//ì„¸ì…˜ìŠ¤í† ë¦¬ì§€ì— ì €ì¥</span>\n  sessionStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"searchProducts\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href <span class=\"token operator\">=</span> <span class=\"token string\">\"/searchlist\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>submit ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œ searchProducts í•¨ìˆ˜ë¥¼ ì§€ì •í•˜ì˜€ìœ¼ë¯€ë¡œ <code class=\"language-text\">preventDefault</code>í•¨ìˆ˜ë¡œ ìƒˆë¡œê³ ì¹¨ì„ ë°©ì§€í•˜ì˜€ë‹¤.</p>\n<p>ê·¸ ì´í›„ì— ëª¨ë“  ì œí’ˆì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê³  ë°ì´í„° ì œí’ˆëª…ì„ ì†Œë¬¸ìí™” í›„ ê²€ìƒ‰ í‚¤ì›Œë“œë¥¼ í¬í•¨í•˜ëŠ” ê²½ìš°, í•´ë‹¹ ë°ì´í„°ë¥¼ ë°°ì—´ì— ì €ì¥í•œë‹¤. ê¸°ì¡´ì˜ ì½”ë“œì™€ ê¸°ëŠ¥ì€ ë™ì¼í•˜ì§€ë§Œ filter í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë” ê°€ë…ì„± ìˆëŠ” ì½”ë“œë¡œ ë°”ê¾¸ì—ˆë‹¤.</p>\n<p>searchlist í˜ì´ì§€ì— ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ í™œìš©í•˜ì˜€ë‹¤.</p>\n<h1>6. ì´ë²¤íŠ¸ ìœ„ì„ ì‹œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ ì²˜ë¦¬ ë°©ì‹ ë³€ê²½</h1>\n<p>ë¦¬ìŠ¤íŠ¸ì˜ <code class=\"language-text\">li</code>ì—˜ë¦¬ë¨¼íŠ¸ë§ˆë‹¤ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë¶€ì°©í•´ì•¼ í•  í•„ìš”ê°€ ìˆì—ˆëŠ”ë°, ì´ë¥¼ ìœ„í•´ì„œ ì´ë²¤íŠ¸ ìœ„ì„ì„ ì´ìš©í•˜ì—¬ ë¶€ëª¨ ì—˜ë¦¬ë¨¼íŠ¸ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ 1ê°œë¥¼ ë¶€ì°©í•˜ì—¬ êµ¬í˜„í–ˆë‹¤.</p>\n<p>ê¸°ì¡´ ì½”ë“œì—ì„œëŠ”</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">cartRendering</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  cartList<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n\n  cartCountField<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cart<span class=\"token punctuation\">.</span>length<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ê°œ ìƒí’ˆ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> elements <span class=\"token operator\">=</span> cart<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> product_image<span class=\"token punctuation\">,</span> product_name<span class=\"token punctuation\">,</span> quantity<span class=\"token punctuation\">,</span> price <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> item<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> price <span class=\"token operator\">*</span> quantity<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      &lt;li>\n          &lt;input type=\"checkbox\" class=\"list-checkbox\" value=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"/>\n          &lt;img\n            src=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_image<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"\n            alt=\"\"\n          />\n          &lt;div class=\"cart-item-info\">\n            &lt;h3></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/h3>\n            &lt;div class=\"item-quantity\">\n              &lt;button class=\"minus\" value=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n                &lt;i class=\"fas fa-minus\">&lt;/i>\n              &lt;/button>\n              &lt;span class=\"qty\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>quantity<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/span>\n              &lt;button class=\"plus\" value=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">&lt;i class=\"fas fa-plus\">&lt;/i>&lt;/button>\n            &lt;/div>\n            &lt;span class=\"item-price\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>price<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/span>\n            &lt;span class=\"item-total-price\">ì´ </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>total<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ì›&lt;/span>\n            &lt;button class='cancel' value=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i<span class=\"token operator\">++</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">&lt;i class=\"fa-solid fa-trash-can\">&lt;/i>&lt;/buttonc>\n          &lt;/div>\n      &lt;/li></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cartList<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setOrderInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cartList<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> clickHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">i</code> ë³€ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ë¦¬ìŠ¤íŠ¸ë¥¼ ë Œë”ë§ í–ˆë‹¤. ê·¸ë ‡ê²Œ í–ˆë˜ ì´ìœ ëŠ” ìš”ì†Œë¥¼ ëˆŒë €ì„ ë•Œ ê·¸ ìš”ì†Œê°€ ì–´ë–¤(ëª‡ ë²ˆì§¸) ìš”ì†Œì¸ì§€ ì•Œì•„ë‚´ì•¼ í–ˆê¸° ë•Œë¬¸ì´ì—ˆë‹¤. ë‹¹ì‹œ ë‚´ê°€ ì•„ëŠ” ì§€ì‹ìœ¼ë¡œ ìƒê°í•´ë‚¼ ìˆ˜ ìˆëŠ” ìµœì„ ì˜ ë°©ë²•ì´ì—ˆê¸° ë•Œë¬¸ì— ì´ë ‡ê²Œ êµ¬í˜„í–ˆë‹¤.</p>\n<p>ê·¸ëŸ¬ë‚˜ ë¦¬íŒ©í† ë§ì„ ì§„í–‰í•˜ë©´ì„œ data ì–´íŠ¸ë¦¬ë·°íŠ¸ì— ëŒ€í•´ ì•Œê²Œ ë˜ì—ˆë‹¤. <code class=\"language-text\">data-</code>ë¥¼ ë¶™ì—¬ ì‚¬ìš©ìê°€ ì»¤ìŠ¤í…€ ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">cartRendering</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  cartList<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">;</span>\n\n  cartCountField<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>cart<span class=\"token punctuation\">.</span>length<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ê°œ ìƒí’ˆ</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> elements <span class=\"token operator\">=</span> cart<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> product_image<span class=\"token punctuation\">,</span> product_name<span class=\"token punctuation\">,</span> quantity<span class=\"token punctuation\">,</span> price<span class=\"token punctuation\">,</span> product_id <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> item<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> total <span class=\"token operator\">=</span> price <span class=\"token operator\">*</span> quantity<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n      &lt;li data-product-id=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n          &lt;input type=\"checkbox\" class=\"list-checkbox\" data-product-id=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"/>\n          &lt;img\n            src=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_image<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"\n          />\n          &lt;div class=\"cart-item-info\">\n            &lt;h3></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_name<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/h3>\n            &lt;div class=\"item-quantity\">\n              &lt;button class=\"minus\" data-product-id=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n                &lt;i class=\"fas fa-minus\">&lt;/i>\n              &lt;/button>\n              &lt;span class=\"qty\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>quantity<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/span>\n              &lt;button class=\"plus\" data-product-id=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">\n                &lt;i class=\"fas fa-plus\">&lt;/i>\n              &lt;/button>\n            &lt;/div>\n            &lt;span class=\"item-price\"></span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>price<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">&lt;/span>\n            &lt;span class=\"item-total-price\">ì´ </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>total<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ì›&lt;/span>\n            &lt;button class='cancel' data-product-id=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\">&lt;i class=\"fa-solid fa-trash-can\">&lt;/i>&lt;/buttonc>\n          &lt;/div>\n      &lt;/li></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cartList<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> elements<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setOrderInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  cartList<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> clickHandler<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">data-product-id</code>ë¥¼ ì´ìš©í•˜ì—¬ í•´ë‹¹ ìš”ì†Œê°€ ì–´ë–¤ ìš”ì†Œì¸ì§€ ì°¾ê¸°ë¡œ í•œë‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">changeQuantity</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">type<span class=\"token punctuation\">,</span> product_id</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> quantityField <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">li[data-product-id=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"] span.qty</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> totalPriceField <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">li[data-product-id=\"</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>product_id<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">\"] span.item-total-price</span><span class=\"token template-punctuation string\">`</span></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> itemIdx <span class=\"token operator\">=</span> cart<span class=\"token punctuation\">.</span><span class=\"token function\">findIndex</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> item<span class=\"token punctuation\">.</span>product_id <span class=\"token operator\">===</span> product_id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> cart<span class=\"token punctuation\">[</span>itemIdx<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> quantity <span class=\"token operator\">=</span> <span class=\"token operator\">+</span>quantityField<span class=\"token punctuation\">.</span>innerText<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> price <span class=\"token operator\">=</span> item<span class=\"token punctuation\">.</span>price<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>type<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"minus\"</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>quantity <span class=\"token operator\">></span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        quantity<span class=\"token operator\">--</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">case</span> <span class=\"token string\">\"plus\"</span><span class=\"token operator\">:</span>\n      quantity<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">default</span><span class=\"token operator\">:</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  item<span class=\"token punctuation\">.</span>quantity <span class=\"token operator\">=</span> quantity<span class=\"token punctuation\">;</span>\n  cart<span class=\"token punctuation\">.</span><span class=\"token function\">splice</span><span class=\"token punctuation\">(</span>itemIdx<span class=\"token punctuation\">,</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  quantityField<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> quantity<span class=\"token punctuation\">;</span>\n  totalPriceField<span class=\"token punctuation\">.</span>innerText <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">ì´ </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>quantity <span class=\"token operator\">*</span> price<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">ì›</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n  localStorage<span class=\"token punctuation\">.</span><span class=\"token function\">setItem</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"myCart\"</span><span class=\"token punctuation\">,</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>cart<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token function\">setOrderInfo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><code class=\"language-text\">document.querySelector</code>ë¥¼ ì´ìš©í•˜ì—¬ data ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤. ì¸ë±ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ìš”ì†Œë¥¼ ì°¾ëŠ” ê²ƒë³´ë‹¤ ì‰½ê²Œ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.</p>\n<p>ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì´ë²¤íŠ¸ ìœ„ì„ ë°©ì‹ì´ í•„ìš”í•œ ë¶€ë¶„ì€ ëª¨ë‘ data ì–´íŠ¸ë¦¬ë·°íŠ¸ë¥¼ ì‚¬ìš©í•˜ì˜€ë‹¤.</p>\n<p><a href=\"https://github.com/cozups/5ot/blob/master/src/views/cart/cart.js\">cart ì½”ë“œ</a></p>\n<p><a href=\"https://github.com/cozups/5ot/blob/master/src/views/product-detail/review.js\">review ì½”ë“œ</a></p>\n<p><a href=\"https://github.com/cozups/5ot/blob/master/src/views/manage-category/manage-category.js\">ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ ì½”ë“œ</a></p>\n<p><a href=\"https://github.com/cozups/5ot/blob/master/src/views/manage-product/manage-product.js\">ì œí’ˆ ê´€ë¦¬ ì½”ë“œ</a></p>","frontmatter":{"title":"5ot í”„ë¡œì íŠ¸ ë¦¬íŒ©í† ë§","date":"April 28, 2024","description":"5ot í”„ë¡œì íŠ¸ë¥¼ ë‹¤ì‹œ ì‚´í´ë³´ë©° ì ì–´ë³´ëŠ” ë¦¬íŒ©í† ë§ ë¡œê·¸","tags":["Refactoring"]}},"previous":{"fields":{"slug":"/2024/testing-getBy-queryBy-findBy/"},"frontmatter":{"title":"[React Testing] getBy, queryBy, findBy"}},"next":{"fields":{"slug":"/2024/blog-migration-to-gatsby/"},"frontmatter":{"title":"Gatsbyë¡œ ë¸”ë¡œê·¸ ì˜®ê¸°ê¸°"}}},"pageContext":{"id":"58bac30d-b73c-524e-8e9c-49007eef574e","previousPostId":"08f1f0da-a52e-52a4-8e8d-ba01d0228865","nextPostId":"9e4d081c-ee96-5aaa-ac20-36dc6f01373a"}},"staticQueryHashes":["230163734","2841359383"],"slicesMap":{}}
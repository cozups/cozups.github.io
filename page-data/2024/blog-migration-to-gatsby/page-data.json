{"componentChunkName":"component---src-templates-blog-post-js","path":"/2024/blog-migration-to-gatsby/","result":{"data":{"site":{"siteMetadata":{"title":"cozups-log"}},"markdownRemark":{"id":"9e4d081c-ee96-5aaa-ac20-36dc6f01373a","excerpt":"Gatsby로 옮기게 된 이유 노션에 익숙해지다보니 블로그도 노션으로 작성하는 것을 선호했다. 그러나 노션이 최근 많이 느려졌다고 느껴졌고 노션에 글을 쓰면서도 상당한 렉을 경험하여 사용하는 데에 많은 불편함을 느꼈다.\nmorethanmin 님이 제작하신 morethan-log…","html":"<h1>Gatsby로 옮기게 된 이유</h1>\n<p>노션에 익숙해지다보니 블로그도 노션으로 작성하는 것을 선호했다. 그러나 노션이 최근 많이 느려졌다고 느껴졌고 노션에 글을 쓰면서도 상당한 렉을 경험하여 사용하는 데에 많은 불편함을 느꼈다.\nmorethanmin 님이 제작하신 <a href=\"https://github.com/morethanmin/morethan-log\">morethan-log</a>를 이용하여 노션의 글을 블로그로 연동하기도 해보았다. 뭔가 버그가 꼬인 것인지 글을 노션에 작성해도 블로그에 동기화 되지 않아 글을 쓸 때마다 새로 배포를 다시 해주어야 했다. 그리고 글 속의 코드블록들이 처음에 제대로 렌더링 되지 않는 문제도 있었다.\n여러 가지로 불편함을 느끼고 있었던 차라 다른 방식으로 블로그를 사용할 수 있는 방법을 찾아보게 되었고 그 중 Gatsby를 이용하기로 했다.\nGatsby를 이용하면 React 베이스로 블로그를 커스터마이징 할 수 있고 정적 사이트 생성을 하기 때문에 SEO 측면에서의 장점도 챙길 수 있을 것 같았다.</p>\n<h1>해야할 일</h1>\n<ol>\n<li>Gatsby 템플릿을 이용하여 블로그 생성하기</li>\n<li>이전 블로그 글 가져오기</li>\n<li>배포</li>\n<li>부가적인 기능 구현하기</li>\n</ol>\n<h1>1. Gatsby 템플릿으로 블로그 생성하기</h1>\n<p>템플릿 중<a href=\"https://www.gatsbyjs.com/starters/gatsbyjs/gatsby-starter-blog/\"> gatsby-starter-blog</a>가 제일 노멀한 템플릿인 것 같아 이 템플릿을 사용하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install gatsby-cli\nnpx gatsby new gatsby-starter-blog https://github.com/gatsbyjs/gatsby-starter-blog</code></pre></div>\n<h1>2. 이전 블로그 글 가져오기</h1>\n<p>프로젝트 내 <code class=\"language-text\">content/blog</code> 내에 markdown 파일을 작성하여 글을 생성할 수 있다.</p>\n<p><code class=\"language-text\">gatsby-config.js</code> 를 살펴보면</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token literal-property property\">plugins</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n   <span class=\"token operator\">...</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/content/blog</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">blog</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p><code class=\"language-text\">gatsby-source-filesystem</code> 플러그인을 이용하여 <code class=\"language-text\">content/blog</code> 내의 파일을 웹 사이트 안에서 사용할 수 있는 GraphQL 노드로 만든다.</p>\n<p>따라서 이전에 노션에 작성해둔 글을 markdown 파일로 가져와 폴더 안에 넣는다.</p>\n<h1>3. 배포</h1>\n<p>배포는 간단히 netlify를 이용하여 배포한다.</p>\n<h1>4. 부가적인 기능 구현</h1>\n<h2>1. 카테고리 추가</h2>\n<p>현재 템플릿에는 카테고리가 따로 없다. 그러나 많은 글을 구분하기 위해서 카테고리가 있는 것이 편하기 때문에 카테고리를 추가하였다.</p>\n<ol>\n<li>모든 md 파일의 frontmatter에 카테고리를 추가한다.</li>\n<li>gatsby-node.js <code class=\"language-text\">createPages</code>에 카테고리 관련 코드를 추가한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">...</span>\n<span class=\"token keyword\">const</span> categories <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>categoryList<span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">const</span> categoryPosts <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/category-posts.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    {\n      allMarkdownRemark(sort: { frontmatter: { date: ASC } }, limit: 1000) {\n        categoryList: distinct(field: frontmatter___category)\n        nodes {\n          id\n          fields {\n            slug\n          }\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>categories<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    categories<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">category</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        component<span class=\"token operator\">:</span> categoryPosts<span class=\"token punctuation\">,</span>\n        context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> category <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"3\">\n<li><code class=\"language-text\">src/templates</code> 폴더에 카테고리 페이지 템플릿을 작성한다. (<a href=\"https://github.com/cozups/cozups-gatsby-blog/blob/master/src/templates/category-posts.js\">코드 링크</a>)</li>\n<li>홈 페이지와 카테고리 페이지에서 카테고리를 쿼리하여 출력한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// components/categories.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Categories <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> categories<span class=\"token punctuation\">,</span> current <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>ul className<span class=\"token operator\">=</span><span class=\"token string\">\"list-none flex gap-2 flex-wrap\"</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>categories<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">category</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link\n              to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n              className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">category-item </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>current <span class=\"token operator\">===</span> category <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">\"active\"</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span>category<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Categories<span class=\"token punctuation\">;</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// templates/blog-list.js</span>\n<span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Bio <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>Categories categories<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>categories<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(\n      sort: {\n        fields: [frontmatter___date, frontmatter___title]\n        order: [DESC, DESC]\n      }\n    ) {\n      categoryList: distinct(field: frontmatter___category)\n      nodes {\n        id\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>결과\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b08fffb3e0ad2460cf5be4a1d53f9ac3/f3c12/gatsby-blog1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 43.0379746835443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA/ElEQVR42qVR7WrDMAzMe+9d9kBlg7Tr/qUrY0vsNLGT2C3xV3yTHQaD/hhtBYdtWTp0uqKqKmx3O7zv9yjLEowxpIgx4p4ohBhQ1wycc7Rti67rHiMEltQO7z18CAiER6L4fH3CZvOMpmnxRrIPhwrGzDDzjJlgjLlp2mLuXiDZFsOocTx+QIgenKSfCL9rCGG5RfIaSiki4gj+WvLfCeP/hPGq7F5DMqGUI77IZSEHjJNC10sofUHNWshhwqQ16oajFxL6fMl3pc+5To70P2l8U+7UC6Q5iuSusY5cXh129M6nW133tD/r3JpfFqq1eafOh4zUb+36nyb8ATG5vpXXniMsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"카테고리 표시\"\n        title=\"\"\n        src=\"/static/b08fffb3e0ad2460cf5be4a1d53f9ac3/f058b/gatsby-blog1.png\"\n        srcset=\"/static/b08fffb3e0ad2460cf5be4a1d53f9ac3/c26ae/gatsby-blog1.png 158w,\n/static/b08fffb3e0ad2460cf5be4a1d53f9ac3/6bdcf/gatsby-blog1.png 315w,\n/static/b08fffb3e0ad2460cf5be4a1d53f9ac3/f058b/gatsby-blog1.png 630w,\n/static/b08fffb3e0ad2460cf5be4a1d53f9ac3/f3c12/gatsby-blog1.png 764w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h2>2. 태그 표시 추가</h2>\n<ol>\n<li>모든 md 파일에 tags를 추가한다.</li>\n<li>쿼리 문의 nodes 안 frontmatter에 tags도 추가한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query BlogPostBySlug(\n    $id: String!\n    $previousPostId: String\n    $nextPostId: String\n  ) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    markdownRemark(id: { eq: $id }) {\n      id\n      excerpt(pruneLength: 160)\n      html\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n        description\n        tags\n      }\n    }\n    previous: markdownRemark(id: { eq: $previousPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n    next: markdownRemark(id: { eq: $nextPostId }) {\n      fields {\n        slug\n      }\n      frontmatter {\n        title\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"3\">\n<li>불러온 tags를 렌더링한다.</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogPostTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">data</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> previous<span class=\"token punctuation\">,</span> next<span class=\"token punctuation\">,</span> site<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">markdownRemark</span><span class=\"token operator\">:</span> post <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  location<span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> siteTitle <span class=\"token operator\">=</span> site<span class=\"token punctuation\">.</span>siteMetadata<span class=\"token operator\">?.</span>title <span class=\"token operator\">||</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Title</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> tags <span class=\"token operator\">=</span> post<span class=\"token punctuation\">.</span>frontmatter<span class=\"token punctuation\">.</span>tags <span class=\"token operator\">||</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>article\n        className<span class=\"token operator\">=</span><span class=\"token string\">\"blog-post\"</span>\n        itemScope\n        itemType<span class=\"token operator\">=</span><span class=\"token string\">\"http://schema.org/Article\"</span>\n      <span class=\"token operator\">></span>\n        <span class=\"token operator\">...</span>\n        <span class=\"token operator\">&lt;</span>aside id<span class=\"token operator\">=</span><span class=\"token string\">\"tags\"</span><span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span>\n            <span class=\"token operator\">&lt;</span>ul<span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span>tags<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tag</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n                <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>tag<span class=\"token punctuation\">}</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>tag<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n              <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>aside<span class=\"token operator\">></span>\n        <span class=\"token operator\">...</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>article<span class=\"token operator\">></span>\n      <span class=\"token operator\">...</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ul>\n<li>결과\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4c231f448eb40d915f41d72d41c77970/2a50c/gatsby-blog2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 87.9746835443038%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACIElEQVR42qWU+46aQBTGff9X8QnWGBO12fjP6lpNujbaxm0VGIYZbiIMA1/PmRVrmrap20l+zgX8+M4FelprzOdzrFYrrNdrKKXAw1qL94xe27ao69rRNA14/z+jF4YhZrMZlsslBoMBJpMJ+v0+Hh4ewNd43POQXhRFWCwW2Gw2mD894eXlExaUAt6naXq/oLUN8lOBLC9gTH29wBJNy2J3hpwWFs/bCDsvx/aQYf5ZYLmV+LiTeN4p6Ly+uPxHwe7mhn660CxZq8k5c2+RelJKjMdjl7vHxw+YTqcIAnF37q6CQghXXe7D0WiE4XAIz/PeL2iMQRzHrqIJoTTljZqdq8/uuXW6PT+cz5gkSdxZ1wk3VbYozyfijHNREGdal6jKiubCnVXlGYap6Jzp1pe5NpWjbRtyWFXw6Mne8QgZHuEHX4k9uXmFjkIoGeKUxCiyBEUa48QkGvkF3ndrS28bhVwh5DBCARUFNH+nMA9OPFYRNBEr6dAUYifyO6yt3xwKGZHDA4TvIVc+MrFHJl+Rii9IaJ1SDlPKbRqrP4r9FGSHgpwFASLhU4jkNPQdWjIBEhJzbiPpyJO/CNZU5cO3PTS5U77vQo/pE8bVZaGM/pzTzRmRxtrtizx1nCivtzjBprH06TIwjGG4YsbBaz6rKC3M23VzXXefu/bmLeuVZQlBbrinQhG6XovIobq47GY+537kPfch9y4L/trYPwBp02uLdYUt6AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"태그 표시\"\n        title=\"\"\n        src=\"/static/4c231f448eb40d915f41d72d41c77970/f058b/gatsby-blog2.png\"\n        srcset=\"/static/4c231f448eb40d915f41d72d41c77970/c26ae/gatsby-blog2.png 158w,\n/static/4c231f448eb40d915f41d72d41c77970/6bdcf/gatsby-blog2.png 315w,\n/static/4c231f448eb40d915f41d72d41c77970/f058b/gatsby-blog2.png 630w,\n/static/4c231f448eb40d915f41d72d41c77970/2a50c/gatsby-blog2.png 925w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h2>3. 페이지네이션</h2>\n<h2>1) index 페이지</h2>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-node.js</span>\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">const</span> postsPerPage <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> numPages <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">/</span> postsPerPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nArray<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> numPages <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\t  <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> i <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n\t  <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"./src/templates/blog-list.js\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\t  <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n\t\t<span class=\"token literal-property property\">limit</span><span class=\"token operator\">:</span> postsPerPage<span class=\"token punctuation\">,</span>\n\t\t<span class=\"token literal-property property\">skip</span><span class=\"token operator\">:</span> i <span class=\"token operator\">*</span> postsPerPage<span class=\"token punctuation\">,</span>\n\t\tnumPages<span class=\"token punctuation\">,</span>\n\t\t<span class=\"token literal-property property\">currentPage</span><span class=\"token operator\">:</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n\t  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span></code></pre></div>\n<p>페이지네이션 코드를 <code class=\"language-text\">gatsby-node.js</code>파일에 구현한다. 이 코드는 페이지네이션의 각 페이지마다 blog-list 템플릿을 이용하여 페이지를 생성하는 코드이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">BlogListTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n <span class=\"token operator\">...</span>\n\n  <span class=\"token keyword\">const</span> prevPageDisabled <span class=\"token operator\">=</span> pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> nextPageDisabled <span class=\"token operator\">=</span> pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">===</span> pageContext<span class=\"token punctuation\">.</span>numPages<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> pageNumberList <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> pageContext<span class=\"token punctuation\">.</span>numPages <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> <span class=\"token operator\">?</span> pageContext<span class=\"token punctuation\">.</span>numPages <span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">/</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> index <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">...</span>\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"flex justify-center\"</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>prevPageDisabled <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageContext<span class=\"token punctuation\">.</span>previousPagePath<span class=\"token punctuation\">}</span> className<span class=\"token operator\">=</span><span class=\"token string\">\"text-black\"</span><span class=\"token operator\">></span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\"&lt;\"</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span>ul className<span class=\"token operator\">=</span><span class=\"token string\">\"list-none flex\"</span><span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span>pageNumberList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pageNumber</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n            <span class=\"token operator\">&lt;</span>li<span class=\"token operator\">></span>\n              <span class=\"token operator\">&lt;</span>Link\n                className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">text-black border-black border-2 px-2 </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n                  pageNumber <span class=\"token operator\">===</span> pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">\"page-activated\"</span>\n                <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n                to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageNumber <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pageNumber<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">></span>\n                <span class=\"token punctuation\">{</span>pageNumber<span class=\"token punctuation\">}</span>\n              <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n          <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>nextPageDisabled <span class=\"token operator\">&amp;&amp;</span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>Link to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageContext<span class=\"token punctuation\">.</span>nextPagePath<span class=\"token punctuation\">}</span> className<span class=\"token operator\">=</span><span class=\"token string\">\"text-black\"</span><span class=\"token operator\">></span>\n            <span class=\"token punctuation\">{</span><span class=\"token string\">\">\"</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> BlogListTemplate<span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query ($skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    categoryList: allMarkdownRemark {\n      categories: distinct(field: frontmatter___category)\n    }\n    allMarkdownRemark(\n      sort: {\n        fields: [frontmatter___date, frontmatter___title]\n        order: [DESC, DESC]\n      }\n      skip: $skip\n      limit: $limit\n    ) {\n      nodes {\n        id\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">src/templates</code>폴더에 <code class=\"language-text\">blog-list.js</code>파일을 만들어 템플릿을 작성한다. <code class=\"language-text\">$skip</code>과 <code class=\"language-text\">$limit</code>을 이용하여 데이터의 일부분을 가져온다. 이 결과가 <code class=\"language-text\">data</code> prop으로 들어가게 되며 기존의 코드가 이를 렌더링 하게 된다. 우리가 추가해야 할 부분은 페이지 표시를 하는 컴포넌트 부분이다. 위에 적힌 코드가 이에 해당한다. 카테고리 페이지에도 적용해야 하므로 추후에 컴포넌트를 따로 분리하겠다.</p>\n<p>그 후에 <code class=\"language-text\">src/pages</code>에서 <code class=\"language-text\">index.js</code>를 삭제한다. <code class=\"language-text\">index.js</code>를 삭제하는 이유는 <code class=\"language-text\">createPage</code> 메서드에 지정한 <code class=\"language-text\">path</code>옵션에 따라 페이지가 1일 때 우리는 블로그 기본 URL(cozups-log.netlify.app)에 접속하게 되는데, 이 때 <code class=\"language-text\">blog-list.js</code> 페이지와 <code class=\"language-text\">index.js</code> 페이지가 충돌하여 오류를 일으킨다. 따라서 <code class=\"language-text\">index.js</code> 페이지를 삭제해야 한다.</p>\n<ul>\n<li>결과\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a9af6376c37c9aac5882cb1fdc86fd06/c587f/gatsby-blog3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 134.81012658227846%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtElEQVR42q1Va2+DMBDr//93/d5Jk9ig4U0CBELC7RxGxaRSHl2kU1LaWj77HC70ZBkzUF03ZK2jo+uy/DCOo99VdacwDKhtW3LOPZ4fBmTIiaEOSdwDqqSkruveAZyWdSP13PYwWL9r3ZHupmr5fBiwaWq6C7QdkWSWYIjW5zoMqJSiLMuoLAt/Pm3KvLTWlOc5FUXBbtfvu1zJiqIo8iz/hSGcBRCqqirWtOFzTabvzzEsy5INCSlJEkqZZVGU/gzg0xrCXRSGW3ea3DgN+LJOMEwpyzNvkHX2PQ0la1ezhjij4DYKbde14pzb/QzD8Juu1yvdPm6P8YGWcD1nxkmacIqG/Qx7dhNMsBtjHvsayCZDMAqCgIQQXss4jv2OMgDda8rSZcwfdIK7vn5zvHXzPE8Kg30FX372wDKOxeal8JIhZm/OMWYR+x79VgEB4B3NckpYPzBM09RrieevwFcAFQn+s5TKs23bZkoMa4t61f6qKWACVv2OC2HTFOgGMxBBpGT53WlTwA4pkVW52+GXpmBkkOesUIfez5etH3wKR52xDDr8aftQUpDb+WY58k4G4A8nR1AcPLAJfgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"인덱스 페이지 페이지네이션\"\n        title=\"\"\n        src=\"/static/a9af6376c37c9aac5882cb1fdc86fd06/f058b/gatsby-blog3.png\"\n        srcset=\"/static/a9af6376c37c9aac5882cb1fdc86fd06/c26ae/gatsby-blog3.png 158w,\n/static/a9af6376c37c9aac5882cb1fdc86fd06/6bdcf/gatsby-blog3.png 315w,\n/static/a9af6376c37c9aac5882cb1fdc86fd06/f058b/gatsby-blog3.png 630w,\n/static/a9af6376c37c9aac5882cb1fdc86fd06/40601/gatsby-blog3.png 945w,\n/static/a9af6376c37c9aac5882cb1fdc86fd06/78612/gatsby-blog3.png 1260w,\n/static/a9af6376c37c9aac5882cb1fdc86fd06/c587f/gatsby-blog3.png 1863w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></li>\n</ul>\n<h2>2) 카테고리 페이지</h2>\n<p>index 페이지에 페이지네이션을 도입했다면 그 다음에는 카테고리 페이지에도 페이지네이션을 도입해야 한다. 따라서 <code class=\"language-text\">gatsby-node.js</code>와 <code class=\"language-text\">templates/category-posts.js</code>를 수정할 필요가 있다.</p>\n<p>우선 쿼리문을 조금 바꿔야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-node.js</span>\n<span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    {\n      allMarkdownRemark(sort: { frontmatter: { date: ASC } }, limit: 1000) {\n        categoryList: distinct(field: frontmatter___category)\n        nodes {\n          id\n          fields {\n            slug\n          }\n        }\n        // 추가된 부분\n        categoryPosts: group(field: frontmatter___category) {\n          fieldValue\n          nodes {\n            id\n            fields {\n              slug\n            }\n            frontmatter {\n              title\n              date\n            }\n          }\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>추가된 쿼리문은 frontmatter의 category에 따라 포스트들을 그룹화한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">[</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fieldValue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"category1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"nodes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"fields\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"slug\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/post-1\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"frontmatter\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Post 1\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-01-01\"</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"fields\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"slug\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/post-2\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"frontmatter\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Post 2\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-01-02\"</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"fieldValue\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"category2\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"nodes\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"id\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"3\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"fields\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"slug\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/post-3\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"frontmatter\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token property\">\"title\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Post 3\"</span><span class=\"token punctuation\">,</span> <span class=\"token property\">\"date\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"2022-01-03\"</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">]</span></code></pre></div>\n<p>위와 같은 형태로 카테고리 별로 포스트들이 묶인다.</p>\n<p>그리고 <code class=\"language-text\">createPage</code>를 사용하는 부분도 고쳐야 한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// gatsby-node.js</span>\n<span class=\"token keyword\">const</span> postsPerPage <span class=\"token operator\">=</span> <span class=\"token number\">10</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>categories<span class=\"token punctuation\">.</span>length <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> postGroups <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>categoryPosts<span class=\"token punctuation\">;</span>\n\n  postGroups<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">group</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> category <span class=\"token operator\">=</span> group<span class=\"token punctuation\">.</span>fieldValue<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> group<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">const</span> numPages <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">ceil</span><span class=\"token punctuation\">(</span>posts<span class=\"token punctuation\">.</span>length <span class=\"token operator\">/</span> postsPerPage<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> numPages <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> i</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> i <span class=\"token operator\">===</span> <span class=\"token number\">0</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">component</span><span class=\"token operator\">:</span> categoryPosts<span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">context</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n          category<span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">limit</span><span class=\"token operator\">:</span> postsPerPage<span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">skip</span><span class=\"token operator\">:</span> i <span class=\"token operator\">*</span> postsPerPage<span class=\"token punctuation\">,</span>\n          numPages<span class=\"token punctuation\">,</span>\n          <span class=\"token literal-property property\">currentPage</span><span class=\"token operator\">:</span> i <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>index 페이지를 페이지네이션 하는 것과 비슷하게 구현한다.</p>\n<p>그 후에, <code class=\"language-text\">templates/category-posts.js</code>파일을 수정해야 한다. <code class=\"language-text\">$skip</code>과 <code class=\"language-text\">$limit</code>을 이용하여 데이터 중 일부만 가져오는 쿼리로 바꿔야 하며 그 코드는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query ($category: String!, $skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    categoryList: allMarkdownRemark {\n      categories: distinct(field: frontmatter___category)\n    }\n    categoryPosts: allMarkdownRemark(\n      sort: {\n        fields: [frontmatter___date, frontmatter___title]\n        order: [DESC, DESC]\n      }\n      filter: { frontmatter: { category: { eq: $category } } }\n      skip: $skip\n      limit: $limit\n    ) {\n      nodes {\n        id\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>그리고 페이지네이션의 페이지를 표시하는 부분을 추가해야 하는데 index 페이지와 중복되므로 따로 컴포넌트를 분리하였다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// src/components/pagination.js</span>\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> MdArrowForwardIos<span class=\"token punctuation\">,</span> MdArrowBackIosNew <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-icons/md\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Pagination <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> path <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> prevPageDisabled <span class=\"token operator\">=</span> pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> nextPageDisabled <span class=\"token operator\">=</span> pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">===</span> pageContext<span class=\"token punctuation\">.</span>numPages<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> pageNumberList <span class=\"token operator\">=</span> Array<span class=\"token punctuation\">.</span><span class=\"token function\">from</span><span class=\"token punctuation\">(</span>\n    <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">length</span><span class=\"token operator\">:</span> pageContext<span class=\"token punctuation\">.</span>numPages <span class=\"token operator\">&lt;</span> <span class=\"token number\">10</span> <span class=\"token operator\">?</span> pageContext<span class=\"token punctuation\">.</span>numPages <span class=\"token operator\">:</span> <span class=\"token number\">10</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">(</span><span class=\"token parameter\">_<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">floor</span><span class=\"token punctuation\">(</span>pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">/</span> <span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> index <span class=\"token operator\">+</span> <span class=\"token number\">1</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"pagination\"</span><span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">&lt;</span>Link\n          to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n            pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">===</span> <span class=\"token number\">2</span>\n              <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span>\n              <span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span>\n          <span class=\"token punctuation\">}</span>\n          className<span class=\"token operator\">=</span><span class=\"token string\">\"text-black\"</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>prevPageDisabled <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>MdArrowBackIosNew <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span>ul className<span class=\"token operator\">=</span><span class=\"token string\">\"list-none flex\"</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>pageNumberList<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pageNumber</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>li key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pageNumber<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>Link\n              className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">pagination-item </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n                pageNumber <span class=\"token operator\">===</span> pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">&amp;&amp;</span> <span class=\"token string\">\"page-activated\"</span>\n              <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n              to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageNumber <span class=\"token operator\">===</span> <span class=\"token number\">1</span> <span class=\"token operator\">?</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pageNumber<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">></span>\n              <span class=\"token punctuation\">{</span>pageNumber<span class=\"token punctuation\">}</span>\n            <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>li<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ul<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">&lt;</span>Link\n          to<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>path<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/page/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>pageContext<span class=\"token punctuation\">.</span>currentPage <span class=\"token operator\">+</span> <span class=\"token number\">1</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span>\n          className<span class=\"token operator\">=</span><span class=\"token string\">\"text-black\"</span>\n        <span class=\"token operator\">></span>\n          <span class=\"token punctuation\">{</span><span class=\"token operator\">!</span>nextPageDisabled <span class=\"token operator\">?</span> <span class=\"token operator\">&lt;</span>MdArrowForwardIos <span class=\"token operator\">/</span><span class=\"token operator\">></span> <span class=\"token operator\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">}</span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> Pagination<span class=\"token punctuation\">;</span></code></pre></div>\n<p>이 컴포넌트를 템플릿에 적용한다. 그 결과 코드는 아래와 같다.</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// templates/category-posts.js</span>\n<span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Link<span class=\"token punctuation\">,</span> graphql <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"gatsby\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token operator\">...</span>\n<span class=\"token keyword\">import</span> Pagination <span class=\"token keyword\">from</span> <span class=\"token string\">\"../components/pagination\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">CategoryPostsTemplate</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data<span class=\"token punctuation\">,</span> location<span class=\"token punctuation\">,</span> pageContext <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n <span class=\"token operator\">...</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Layout location<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>location<span class=\"token punctuation\">}</span> title<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>siteTitle<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">...</span>\n      <span class=\"token operator\">&lt;</span>ol style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">listStyle</span><span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">none</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n        <span class=\"token comment\">// posts 렌더링</span>\n        <span class=\"token operator\">...</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>ol<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Pagination path<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>category<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">}</span> pageContext<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>pageContext<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> CategoryPostsTemplate<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query ($category: String!, $skip: Int!, $limit: Int!) {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    categoryList: allMarkdownRemark {\n      categories: distinct(field: frontmatter___category)\n    }\n    categoryPosts: allMarkdownRemark(\n      sort: {\n        fields: [frontmatter___date, frontmatter___title]\n        order: [DESC, DESC]\n      }\n      filter: { frontmatter: { category: { eq: $category } } }\n      skip: $skip\n      limit: $limit\n    ) {\n      nodes {\n        id\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date(formatString: \"MMMM DD, YYYY\")\n          title\n          description\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<ul>\n<li>결과\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f848f4c8fcd55dece10ff35fa718640e/c587f/gatsby-blog4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 132.91139240506328%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAbCAYAAAB836/YAAAACXBIWXMAAAsTAAALEwEAmpwYAAABz0lEQVR42q1Va3OCMBDs//95fu84WiGAIMgzgcD2Nop90Uq0mbnJgOOyt3ubvGBhNa3G6XSCtRa+6+Xr43QBLENEUYC2bTGNI6Zpeg7QNCGSRKE4l2iaBuMVdC4PwMuydsIwWNRth7pp0WnjSnPv9HrA+etZlmG/3+FwOIiW+ZffPFu+miJt5nmBuq5Fx+ZxDec/5nmOMBRjlJI9QJzECIIDyrK8y3aRId09iyFk2Pe9M2UYBrc/1HJVlUjTVCrDMT1KpbeZvOf2ImBdV84YtmiMEXb9baQeNqUoCmn77Npm8bk4F+4j1JgSrDYlCAJsNhtst1sHShAC5tePMJarAOfFNslSaw1tONTavaNBXkm5DbaYsN/tEMcxQsUYHqE4QlIE/Wt0Fhl2XefaHMXZNfm9y5AjQ/2UipyeZGft+LjL1M5pKAcBh5yMfzNhFeAleko0TC7aSQypp+I7iaG56uilIQ8Hx8wOrpiUOYLeWa6qyjGKosi1/cQV8AGYSvS4G/0PgBwZHl10O0kStNL60wyzNLtFjil5ag6ZVR7/b1I7uQo4QmuvgUWGjBcdJjNjerSaafl2P/pE7/OSyw+vqv9xWnsBkiHbdBe9R44J+A6mUU81o82wvgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"카테고리 페이지 페이지네이션\"\n        title=\"\"\n        src=\"/static/f848f4c8fcd55dece10ff35fa718640e/f058b/gatsby-blog4.png\"\n        srcset=\"/static/f848f4c8fcd55dece10ff35fa718640e/c26ae/gatsby-blog4.png 158w,\n/static/f848f4c8fcd55dece10ff35fa718640e/6bdcf/gatsby-blog4.png 315w,\n/static/f848f4c8fcd55dece10ff35fa718640e/f058b/gatsby-blog4.png 630w,\n/static/f848f4c8fcd55dece10ff35fa718640e/40601/gatsby-blog4.png 945w,\n/static/f848f4c8fcd55dece10ff35fa718640e/78612/gatsby-blog4.png 1260w,\n/static/f848f4c8fcd55dece10ff35fa718640e/c587f/gatsby-blog4.png 1863w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></li>\n</ul>","frontmatter":{"title":"Gatsby로 블로그 옮기기","date":"May 16, 2024","description":"노션에서 Gatsby로 블로그를 옮겼다.","tags":["Blog"]}},"previous":{"fields":{"slug":"/2024/refactor--5ot/"},"frontmatter":{"title":"5ot 프로젝트 리팩토링"}},"next":{"fields":{"slug":"/2024/nextjs-mdx/"},"frontmatter":{"title":"NextJS에서 mdx(markdown) 사용하기"}}},"pageContext":{"id":"9e4d081c-ee96-5aaa-ac20-36dc6f01373a","previousPostId":"58bac30d-b73c-524e-8e9c-49007eef574e","nextPostId":"647092b9-3fe3-5d6b-867e-6bb81e401e62"}},"staticQueryHashes":["230163734","2841359383"],"slicesMap":{}}